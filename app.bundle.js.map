{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./src/components/tools/penAndEraserTools.js","webpack:///./src/components/tools/colorPickerToolAndBrightness.js","webpack:///./src/components/tools/allPixelsSameColorTool.js","webpack:///./src/components/tools/penMirrorTool.js","webpack:///./src/components/tools/ditheringTool.js","webpack:///./src/components/tools/paintBucketTool.js","webpack:///./src/components/tools/moveTool.js","webpack:///./src/components/tools/rectangleTool.js","webpack:///./src/components/tools/undoTool.js","webpack:///./src/components/canvas/actionWithCanvases.js","webpack:///./src/components/tools/activeNoActiveTools.js","webpack:///./src/components/canvas/showCoordinate.js","webpack:///./src/components/canvas/gif.js","webpack:///./src/components/shortcuts/shortcut.js","webpack:///./node_modules/downloadjs/download.js","webpack:///./src/components/actionWithFrames/actionWithFrames.js","webpack:///./src/components/App.js","webpack:///./src/view/style.js","webpack:///./src/view/closeLandingPage.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","e","window","penAndEraserTools","canvasWhichStateOnMiddleOfPage","document","getElementById","ctxOfMiddleCanvas","getContext","divWithTools","units","amountOfDivisonsOfCanvas","pen","getElementsByClassName","eraser","keyboardButtonE","keyboardButtonP","toolPen","toolEraser","changeCurrentTool","chooseCurrentTool","event","classList","contains","keyCode","addEventListener","draw","coordinatesPerSquareOnMainCanvasX","coordinatesPerSquareOnMainCanvasY","makeCoordinatePerSquare","devider","sizeOfSquare","push","drawOnMiddleCanvas","x","filter","coordinate","offsetX","y","offsetY","fillRect","clearRect","fill","makeDrawingWithMouse","recognizeLeftOrRightClick","colorLeftClick","colorRightClick","currentColor","which","preventDefault","fillStyle","activateEvendListeners","removeEventListener","__webpack_exports__","colorPickerTool","ctxMainCanvas","colorTop","colorBottom","toolPicker","toolLighten","toolDarken","colorForLeftOrRightClick","takeXAndYCoordinates","newX","newY","xAndY","pickColorFromPixel","b","colorImageData","getImageData","colorImageDataR","data","colorImageDataG","colorImageDataB","rgb","match","result","parseInt","toString","slice","rgb2hex","leftOfRightClick","activateLight","red","green","blue","activateDark","listeners","stopPropagation","allPixelsSameColorTool","buttonWithAllPixels","colorData","colorOfPixel","first","length","second","takeColorFromPixel","imageData","takeImageData","active","mirrorPenTool","mirrorPen","xMirror","reverse","deactivate","global","ditheringTool","leftClick","rightClick","dithering","needToChangeFillAndClear","coordsForFill","Set","coordsForClear","has","add","console","log","paintBucketTool","bucket","getPixelPos","width","matchStartColor","pos","startColor","a","colorPixel","color","hexToRgb","hex","exec","activate","startX","startY","top","bottom","fillColor","dstImg","height","dstData","startPos","todo","pop","currentPos","reachLeft","reachRight","putImageData","floodFill","moveToolFunction","moveTool","imageWhichMove","Image","isDraggable","currentX","currentY","isDraggableFalse","forMouseDown","mouseX","mouseY","forMouseMove","go","picture","toDataURL","src","interval","setInterval","drawImage","clearInterval","rectangleToolFunction","rectangleTool","image","startPointX","startPointY","endPointX","endPointY","drawRectangle","lineWidth","strokeStyle","strokeRect","takeStartPoint","currentImage","takeImage","stopDrawing","undoFunction","canvasWhichStateOnMiddlePage","listOfFrames","deleteButton","pressDublicateButton","buttonZ","storageOfPreviousImages","Map","afterDublicate","target","className","amountOfFrames","children","frameOnWhichClickDublicate","path","numberOfDublicateFrame","innerText","delete","set","entries","sort","changeKeysAfterDublicateFrame","saveSyncImage","numberOfCurrentFrame","JSON","parse","stringify","ctrlKey","pictureArray","numberOfDeleteFrame","numberWhichChangeNumberOfFrame","changeStorageMapAfterDeleteFrame","actionWithCanvases","_tools_activeNoActiveTools__WEBPACK_IMPORTED_MODULE_0__","_tools_penAndEraserTools__WEBPACK_IMPORTED_MODULE_1__","_tools_colorPickerToolAndBrightness__WEBPACK_IMPORTED_MODULE_2__","_tools_allPixelsSameColorTool__WEBPACK_IMPORTED_MODULE_3__","_showCoordinate__WEBPACK_IMPORTED_MODULE_4__","_tools_penMirrorTool__WEBPACK_IMPORTED_MODULE_5__","_tools_ditheringTool__WEBPACK_IMPORTED_MODULE_6__","_tools_paintBucketTool__WEBPACK_IMPORTED_MODULE_7__","_tools_moveTool__WEBPACK_IMPORTED_MODULE_8__","_tools_rectangleTool__WEBPACK_IMPORTED_MODULE_9__","_tools_undoTool__WEBPACK_IMPORTED_MODULE_10__","_gif__WEBPACK_IMPORTED_MODULE_11__","_gif__WEBPACK_IMPORTED_MODULE_11___default","inputRangeOnPreview","preview","imagesForPreviewAndFrames","changeToolAfterKeyboardUse","previosActiveTool","changeMainCanvasAfterSwitchCurrentFrame","setTimeout","imageOfCurrentFrame","changeKeysAfterDeleteFrame","size","changeMainCanvasAfterDublicateFrame","frameNumberOnWhichClickDublicate","animationOnPreview","keyboardButtonLeft","keyboardButtonRight","fpsNubmer","number","fpsOnPreview","Number","forAnimation","amountImages","keysOfImages","keys","innerHTML","setAttribute","tools","undefined","activateNoActivateTools","activeTool","undoTool","penMirrorTool","toolsForKeyboardUse","rotate","Math","PI","translate","toggleFullScreen","fullscreenElement","localName","requestFullscreen","fullScreenPreview","body","childsOfUl","Array","from","arrayOfYellowBorder","forEach","elem","saveDataUrls","ul","currentFrame","changeCanvasOfPreviewAndFrameAfterDrawing","showCoordinate","saveImagesAndKeysFromMap","saveDataInArray","arrayOfKeys","arrayOfValues","localStorage","getItem","setItem","onload","images","takeLastItemFromImages","numbersOfFrames","element","defineAmountOfFrames","max","apply","amount","frame","frameClone","cloneNode","remove","parentNode","insertBefore","nextSibling","index","keyOfMap","previewImage","imageForPreview","storage","nameByUserToGif","submitNameToGif","keyboardButtonL","downloadGifToFileSystem","type","download","require","valueOfFps","delayForFrames","floor","gif","GIF","workers","workerScript","background","quality","values","addFrame","delay","on","blob","nameOfGif","prompt","render","downloadGif","makeToolNoActive","makeToolActive","placeShowCoordinates","sizeNumbers","u","f","Error","code","1","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","er","handler","len","args","error","arguments","err","context","addListener","listener","newListener","warned","trace","once","fired","removeListener","list","position","splice","removeAllListeners","listenerCount","evlistener","emitter","2","UA","browser","platform","ua","navigator","userAgent","toLowerCase","documentMode","version","parseFloat","3","hasProp","indexOf","item","superClass","defaults","frameDefaults","options","base","running","frames","freeWorkers","activeWorkers","setOptions","child","parent","ctor","constructor","__super__","extend","repeat","transparent","debug","dither","copy","setOption","_canvas","results","ImageData","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","terminate","_this","min","Worker","onmessage","frameFinished","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","Blob","task","getTask","postMessage","ctx","createElement","setFill","last","canTransfer","./browser.coffee","events","shortcutsFunction","shortcutPen","shortcutMirror","shortcutBucket","shortcutAllPixels","shortcutEraser","shortcutRectangle","shortcutMove","shortcutDithering","shortcutRotate","shortcutLighten","shortcutDarken","shortcutColorPicker","toolsWhichUse","saveShortcutsAfterReloadingPage","buttonForShortCuts","changeToolTips","shortcutsForTools","penToolKeyCode","toLocaleUpperCase","charCodeAt","penTool","mirrorPenToolKeyCode","paintBucketToolKeyCode","paintAllPixelsSameColorToolKeyCode","paintAllPixelsSameColorTool","eraserToolKeyCode","eraserTool","rectangleToolKeyCode","moveToolKeyCode","ditheringToolKeyCode","lightenToolKeyCode","lightenTool","darkenToolKeyCode","darkenTool","colorPickerToolKeyCode","previosTool","changeTool","shortcutsArr","replace","takeShortcutsFromLocalStorage","keyboardIcon","windowShortCuts","buttonCloseWindowShortCut","keyBoardButtonToOpenShortCuts","showWindowWithShortCuts","toggle","openShortcutsWindow","keyboardButtonUp","keyboardButtonDown","childsOfCurrentFrame","makeYellowFrameToGray","shortcutsForChangeCurrentTool","numberOfFps","inputWithRangeFps","valueOfInputRange","shortcutsChangeFpsOfPreview","shortcutWindow","btnDeleteFrame","btnCopyFrame","btnAddNewFrame","btnOpenShortcutWindow","btnChangeToPreviousFrame","btnChangeToNextFrame","btnDecreaseFps","btnInecreaseFps","btnFullscreenPreview","change","previousItem","shortcutName","shortcutLetter","shortcutIcon","previousElementSibling","nextElementSibling","String","fromCharCode","changeKeyboardShortcuts","buttonRestore","keyboardButtonRestoreShortCuts","restore","notifyWithRestore","confirm","restoreKeyboardShortcuts","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","strFileName","strMimeType","reader","self","defaultMime","mimeType","payload","url","anchor","myBlob","MozBlob","WebKitBlob","fileName","split","href","ajax","XMLHttpRequest","open","responseType","response","send","test","msSaveBlob","dataUrlToBlob","saver","tempUiArr","mx","strUrl","parts","decoder","atob","decodeURIComponent","binData","uiArr","winMode","style","display","appendChild","click","removeChild","URL","revokeObjectURL","location","createObjectURL","btoa","encodeURIComponent","FileReader","readAsDataURL","actionWithFrames","buttonAddFrame","countOfFrames","arrayOflistFrames","changeColorOfFrameFromYellowToGrey","previosframeBeforeClick","previosFrameElementsBeforeClick","updateNumbersOfFrames","childrensOfUl","dublicateFrame","dublicateButton","dublicate","frameElement","parentElement","frameElementClone","yellowItems","dublicatedFrame","previosFrame","yellowFrameItemsOfPreviosFrame","fixBugsWithDublicateWhenClickNotOnCurrentFrame","changeCountOfFramesAfterReloadPage","newLi","nKeyCode","numberOfFrame","addNewFrame","currentLi","elementsOfCurrentLi","deleteChosenFrame","currentFrameAfterDelete","newCurrentLi","deleteFrame","async","getElementsByTagName","actionWithCanvas","shortCuts","createSprite","landingPage","piskel","removeAttribute","closeLandingPage"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export default function penAndEraserTools() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  const divWithTools = document.getElementById('div-with-tools');\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n  const pen = document.getElementsByClassName('tools-which-change-canvas--pen')[0];\n  const eraser = document.getElementsByClassName('tools-which-change-canvas--eraser-tool')[0];\n  const keyboardButtonE = 69;\n  const keyboardButtonP = 80;\n  let toolPen = false;\n  let toolEraser = false;\n\n  function changeCurrentTool() {\n    function chooseCurrentTool(event) {\n      if (pen.classList.contains('active') || event.keyCode === keyboardButtonP) toolPen = true;\n      if (eraser.classList.contains('active') || event.keyCode === keyboardButtonE) toolEraser = true;\n    }\n\n    divWithTools.addEventListener('mouseup', chooseCurrentTool);\n    document.addEventListener('keyup', chooseCurrentTool);\n  }\n  changeCurrentTool();\n\n  function draw(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n\n\n    function drawOnMiddleCanvas() {\n      const x = coordinatesPerSquareOnMainCanvasX.filter(coordinate => coordinate >= event.offsetX);\n      const y = coordinatesPerSquareOnMainCanvasY.filter(coordinate => coordinate >= event.offsetY);\n      if (toolPen) {\n        ctxOfMiddleCanvas.fillRect(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas,\n          amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n      }\n      if (toolEraser) {\n        ctxOfMiddleCanvas\n          .clearRect(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas,\n            amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n      }\n      ctxOfMiddleCanvas.fill();\n    }\n    makeCoordinatePerSquare();\n    drawOnMiddleCanvas();\n\n    return { makeCoordinatePerSquare, drawOnMiddleCanvas };\n  }\n\n  function makeDrawingWithMouse(event) {\n    draw(event);\n    canvasWhichStateOnMiddleOfPage.addEventListener('mousemove', draw);\n  }\n\n  function recognizeLeftOrRightClick(event) {\n    const colorLeftClick = document.getElementById('tools-choose-color--top');\n    const colorRightClick = document.getElementById('tools-choose-color--bottom');\n    let currentColor;\n    const leftClick = 1;\n    const rightClick = 3;\n    if (event.which === leftClick) {\n      currentColor = colorLeftClick.value;\n    }\n    if (event.which === rightClick) {\n      event.preventDefault();\n      currentColor = colorRightClick.value;\n    }\n    ctxOfMiddleCanvas.fillStyle = currentColor;\n    makeDrawingWithMouse(event);\n  }\n\n  function activateEvendListeners() {\n    canvasWhichStateOnMiddleOfPage.addEventListener('click', (event) => {\n      event.preventDefault();\n    });\n    canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', recognizeLeftOrRightClick);\n    canvasWhichStateOnMiddleOfPage.addEventListener('mouseup', (event) => {\n      event.preventDefault();\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', draw);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousemove', draw);\n    });\n\n\n    divWithTools.addEventListener('mouseup', () => {\n      if (!pen.classList.contains('active')) {\n        canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', makeDrawingWithMouse);\n        toolPen = false;\n      }\n      if (!eraser.classList.contains('active')) {\n        canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', makeDrawingWithMouse);\n        toolEraser = false;\n      }\n    });\n  }\n  activateEvendListeners();\n\n  function toActivateWithKeyboard(event) {\n    if (event.keyCode !== keyboardButtonP) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', makeDrawingWithMouse);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', draw);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousemove', draw);\n      toolPen = false;\n    }\n    if (event.keyCode !== keyboardButtonE) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', makeDrawingWithMouse);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', draw);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousemove', draw);\n      toolEraser = false;\n    }\n  }\n  document.addEventListener('keyup', toActivateWithKeyboard);\n\n\n  return { changeCurrentTool, activateEvendListeners };\n}\n","export default function colorPickerTool() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const divWithTools = document.getElementById('div-with-tools');\n  const mainCanvas = document.getElementById('main-div--canvas');\n  const ctxMainCanvas = mainCanvas.getContext('2d');\n  const colorTop = document.getElementById('tools-choose-color--top');\n  const colorBottom = document.getElementById('tools-choose-color--bottom');\n  const toolPicker = document.getElementsByClassName('tools-which-change-canvas--color-picker')[0];\n  const toolLighten = document.getElementsByClassName('tools-which-change-canvas--lighten')[0];\n  const toolDarken = document.getElementsByClassName('tools-which-change-canvas--darken')[0];\n  let colorForLeftOrRightClick;\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n\n  function takeXAndYCoordinates(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n\n\n    function xAndY() {\n      const newX = coordinatesPerSquareOnMainCanvasX\n        .filter(coordinate => coordinate >= event.offsetX);\n      const newY = coordinatesPerSquareOnMainCanvasY\n        .filter(coordinate => coordinate >= event.offsetY);\n      const x = newX[0];\n      const y = newY[0];\n      return { x, y };\n    }\n\n    makeCoordinatePerSquare();\n    return xAndY();\n  }\n\n\n  function rgb2hex(rgb) {\n    // eslint-disable-next-line no-param-reassign\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    const result = `#${\n      (`0${parseInt(rgb[1], 10).toString(16)}`).slice(-2)\n    }${(`0${parseInt(rgb[2], 10).toString(16)}`).slice(-2)\n    }${(`0${parseInt(rgb[3], 10).toString(16)}`).slice(-2)}`;\n    colorForLeftOrRightClick = result;\n  }\n\n  function pickColorFromPixel(event, r, g, b) {\n    const x = event.offsetX;\n    const y = event.offsetY;\n    const colorImageData = ctxMainCanvas.getImageData(x, y, 1, 1);\n    let colorImageDataR = colorImageData.data[0] + r;\n    let colorImageDataG = colorImageData.data[1] + g;\n    let colorImageDataB = colorImageData.data[2] + b;\n    if (colorImageDataR > 254) colorImageDataR = 254;\n    if (colorImageDataG > 254) colorImageDataG = 254;\n    if (colorImageDataB > 254) colorImageDataB = 254;\n    if (colorImageDataR < 1) colorImageDataR = 1;\n    if (colorImageDataG < 1) colorImageDataG = 1;\n    if (colorImageDataB < 1) colorImageDataB = 1;\n    const colorR = colorImageDataR;\n    const colorG = colorImageDataG;\n    const colorB = colorImageDataB;\n\n    const rgb = `rgb(${colorR}, ${colorG}, ${colorB})`;\n    rgb2hex(rgb);\n  }\n\n  function leftOfRightClick(event) {\n    pickColorFromPixel(event, 0, 0, 0);\n    if (event.which === 1) colorTop.value = colorForLeftOrRightClick;\n    if (event.which === 3) colorBottom.value = colorForLeftOrRightClick;\n  }\n  function activateLight(event) {\n    const { x } = takeXAndYCoordinates(event);\n    const { y } = takeXAndYCoordinates(event);\n    const [red, green, blue] = ctxMainCanvas.getImageData(event.offsetX, event.offsetY, 1, 1).data;\n    if (red !== 255 && green !== 255 && blue !== 255) {\n      pickColorFromPixel(event, 5, 5, 5);\n      ctxMainCanvas.fillStyle = colorForLeftOrRightClick;\n      ctxMainCanvas.fillRect(x - amountOfDivisonsOfCanvas, y - amountOfDivisonsOfCanvas,\n        amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n    }\n  }\n  function activateDark(event) {\n    const { x } = takeXAndYCoordinates(event);\n    const { y } = takeXAndYCoordinates(event);\n    const [red, green, blue] = ctxMainCanvas.getImageData(event.offsetX, event.offsetY, 1, 1).data;\n    if (red !== 0 && green !== 0 && blue !== 0) {\n      pickColorFromPixel(event, -5, -5, -5);\n      ctxMainCanvas.fillStyle = colorForLeftOrRightClick;\n      ctxMainCanvas.fillRect(x - amountOfDivisonsOfCanvas, y - amountOfDivisonsOfCanvas,\n        amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n    }\n  }\n\n  function listeners(event) {\n    event.stopPropagation();\n    if (toolPicker.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', leftOfRightClick);\n    }\n    if (!toolPicker.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', leftOfRightClick);\n    }\n    if (toolLighten.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', activateLight);\n    }\n    if (!toolLighten.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', activateLight);\n    }\n    if (toolDarken.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', activateDark);\n    }\n    if (!toolDarken.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', activateDark);\n    }\n  }\n\n  divWithTools.addEventListener('mouseup', listeners);\n  document.addEventListener('keyup', listeners);\n}\n","export default function allPixelsSameColorTool() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  const buttonWithAllPixels = document.getElementsByClassName('tools-which-change-canvas--paint-all-pixels-of-the-same-color')[0];\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n\n  function takeImageData(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n    makeCoordinatePerSquare();\n\n    function imageData() {\n      const x = coordinatesPerSquareOnMainCanvasX.filter(coordinate => coordinate >= event.offsetX);\n      const y = coordinatesPerSquareOnMainCanvasX.filter(coordinate => coordinate >= event.offsetY);\n      const colorData = [];\n      const colorOfPixel = ctxOfMiddleCanvas\n        .getImageData(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas,\n          1, 1).data;\n      colorData.push(colorOfPixel[0]);\n      colorData.push(colorOfPixel[1]);\n      colorData.push(colorOfPixel[2]);\n      colorData.push(colorOfPixel[3]);\n      for (let first = 0; first <= coordinatesPerSquareOnMainCanvasY.length - 1; first += 1) {\n        for (let second = 0; second <= coordinatesPerSquareOnMainCanvasX.length - 1; second += 1) {\n          const takeColorFromPixel = ctxOfMiddleCanvas\n            .getImageData(coordinatesPerSquareOnMainCanvasX[second] - amountOfDivisonsOfCanvas,\n              coordinatesPerSquareOnMainCanvasY[first] - amountOfDivisonsOfCanvas, 1, 1).data;\n          if (takeColorFromPixel[0] === colorData[0] && takeColorFromPixel[1] === colorData[1]\n            && takeColorFromPixel[2] === colorData[2]\n            && takeColorFromPixel[3] === colorData[3]) {\n            ctxOfMiddleCanvas\n              .fillRect(coordinatesPerSquareOnMainCanvasX[second] - amountOfDivisonsOfCanvas,\n                coordinatesPerSquareOnMainCanvasY[first] - amountOfDivisonsOfCanvas,\n                amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n          }\n        }\n      }\n    }\n\n    return imageData(event);\n  }\n\n  function recognizeLeftOrRightClick(event) {\n    const colorLeftClick = document.getElementById('tools-choose-color--top');\n    const colorRightClick = document.getElementById('tools-choose-color--bottom');\n    let currentColor;\n    const leftClick = 1;\n    const rightClick = 3;\n    if (event.which === leftClick) {\n      currentColor = colorLeftClick.value;\n    }\n    if (event.which === rightClick) {\n      currentColor = colorRightClick.value;\n    }\n    ctxOfMiddleCanvas.fillStyle = currentColor;\n    takeImageData(event);\n  }\n\n\n  function active(event) {\n    if (buttonWithAllPixels.classList\n      .contains('active')) {\n      recognizeLeftOrRightClick(event);\n    }\n  }\n  function act() {\n    if (buttonWithAllPixels.classList\n      .contains('active')) {\n      canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', active);\n    }\n    if (!buttonWithAllPixels.classList\n      .contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', active);\n    }\n  }\n  act();\n}\n","export default function mirrorPenTool() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  const divWithTools = document.getElementById('div-with-tools');\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n  const mirrorPen = document.getElementsByClassName('tools-which-change-canvas--mirror-pen')[0];\n\n  function draw(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n\n\n    function drawOnMiddleCanvas() {\n      const x = coordinatesPerSquareOnMainCanvasX.filter(coordinate => coordinate >= event.offsetX);\n      const y = coordinatesPerSquareOnMainCanvasY.filter(coordinate => coordinate >= event.offsetY);\n      const maxCoordinate = coordinatesPerSquareOnMainCanvasX.reverse()[0];\n      const xMirror = maxCoordinate - x[0];\n      ctxOfMiddleCanvas.fillRect(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas,\n        amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n      ctxOfMiddleCanvas.fillRect(xMirror,\n        y[0] - amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n    }\n\n    makeCoordinatePerSquare();\n    drawOnMiddleCanvas(event);\n  }\n\n  function makeDrawingWithMouse(event) {\n    draw(event);\n    canvasWhichStateOnMiddleOfPage.addEventListener('mousemove', draw);\n  }\n\n  function recognizeLeftOrRightClick(event) {\n    const colorLeftClick = document.getElementById('tools-choose-color--top');\n    const colorRightClick = document.getElementById('tools-choose-color--bottom');\n    let currentColor;\n    const leftClick = 1;\n    const rightClick = 3;\n    if (event.which === leftClick) {\n      currentColor = colorLeftClick.value;\n    }\n    if (event.which === rightClick) {\n      event.preventDefault();\n      currentColor = colorRightClick.value;\n    }\n    ctxOfMiddleCanvas.fillStyle = currentColor;\n    makeDrawingWithMouse(event);\n  }\n\n  canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', recognizeLeftOrRightClick);\n  canvasWhichStateOnMiddleOfPage.addEventListener('mouseup', (event) => {\n    event.preventDefault();\n    canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', draw);\n    canvasWhichStateOnMiddleOfPage.removeEventListener('mousemove', draw);\n  });\n\n  function deactivate() {\n    if (!mirrorPen.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', recognizeLeftOrRightClick);\n    }\n  }\n\n  divWithTools.addEventListener('mouseup', deactivate);\n  document.addEventListener('keyup', deactivate);\n}\n","export default function ditheringTool() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  const divWithTools = document.getElementById('div-with-tools');\n  const colorLeftClick = document.getElementById('tools-choose-color--top');\n  const colorRightClick = document.getElementById('tools-choose-color--bottom');\n  const leftClick = 1;\n  const rightClick = 3;\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n  const dithering = document.getElementsByClassName('tools-which-change-canvas--dithering-tool')[0];\n  // 0 equal fillRect, 1 equal clearRect\n  let needToChangeFillAndClear = 0;\n  // need to change fill pixel to clear pixel\n  const coordsForFill = new Set();\n  const coordsForClear = new Set();\n\n  function draw(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n\n\n    function drawOnMiddleCanvas() {\n      const x = coordinatesPerSquareOnMainCanvasX.filter(coordinate => coordinate >= event.offsetX);\n      const y = coordinatesPerSquareOnMainCanvasY.filter(coordinate => coordinate >= event.offsetY);\n      if (needToChangeFillAndClear === 0\n        && !coordsForClear.has(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas)) {\n        global.console.log(x[0], y[0]);\n        coordsForFill.add(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas);\n        if (event.which === rightClick) ctxOfMiddleCanvas.fillStyle = colorRightClick.value;\n        if (event.which === leftClick) ctxOfMiddleCanvas.fillStyle = colorLeftClick.value;\n        ctxOfMiddleCanvas.fillRect(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas,\n          amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n        needToChangeFillAndClear += 1;\n      } else if (needToChangeFillAndClear === 1\n         && !coordsForFill.has(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas)) {\n        coordsForClear.add(x[0] - amountOfDivisonsOfCanvas, y[0] - amountOfDivisonsOfCanvas);\n        if (event.which === leftClick) ctxOfMiddleCanvas.fillStyle = colorRightClick.value;\n        if (event.which === rightClick) ctxOfMiddleCanvas.fillStyle = colorLeftClick.value;\n        ctxOfMiddleCanvas.fillRect(x[0] - amountOfDivisonsOfCanvas,\n          y[0] - amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas, amountOfDivisonsOfCanvas);\n        needToChangeFillAndClear -= 1;\n      }\n    }\n\n    makeCoordinatePerSquare();\n    drawOnMiddleCanvas(event);\n  }\n\n  function makeDrawingWithMouse(event) {\n    draw(event);\n    canvasWhichStateOnMiddleOfPage.addEventListener('mousemove', draw);\n  }\n\n  function recognizeLeftOrRightClick(event) {\n    let currentColor;\n    if (event.which === leftClick) {\n      currentColor = colorLeftClick.value;\n    }\n    if (event.which === rightClick) {\n      event.preventDefault();\n      currentColor = colorRightClick.value;\n    }\n    ctxOfMiddleCanvas.fillStyle = currentColor;\n    makeDrawingWithMouse(event);\n  }\n\n  canvasWhichStateOnMiddleOfPage.addEventListener('click', (event) => {\n    event.preventDefault();\n  });\n  canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', recognizeLeftOrRightClick);\n  canvasWhichStateOnMiddleOfPage.addEventListener('mouseup', () => {\n    canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', draw);\n    canvasWhichStateOnMiddleOfPage.removeEventListener('mousemove', draw);\n  });\n\n\n  divWithTools.addEventListener('mouseup', () => {\n    if (!dithering.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', recognizeLeftOrRightClick);\n    }\n  });\n}\n","/* eslint-disable no-plusplus */\n/* eslint-disable no-param-reassign */\nexport default function paintBucketTool() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  const bucket = document.getElementsByClassName('tools-which-change-canvas--paint-bucket-tool')[0];\n  const divWithTools = document.getElementById('div-with-tools');\n  const colorTop = document.getElementById('tools-choose-color--top');\n  const colorBottom = document.getElementById('tools-choose-color--bottom');\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n\n\n  function takeXAndYCoordinates(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n\n\n    function xAndY() {\n      const newX = coordinatesPerSquareOnMainCanvasX\n        .filter(coordinate => coordinate >= event.offsetX);\n      const newY = coordinatesPerSquareOnMainCanvasY\n        .filter(coordinate => coordinate >= event.offsetY);\n      const x = newX[0];\n      const y = newY[0];\n      return { x, y };\n    }\n\n    makeCoordinatePerSquare();\n    return xAndY();\n  }\n\n  const getPixelPos = function qwe(x, y) {\n    return (y * canvasWhichStateOnMiddleOfPage.width + x) * 4;\n  };\n\n  function matchStartColor(data, pos, startColor) {\n    return (data[pos] === startColor.r\n            && data[pos + 1] === startColor.g\n            && data[pos + 2] === startColor.b\n            && data[pos + 3] === startColor.a);\n  }\n\n  function colorPixel(data, pos, color) {\n    data[pos] = color.r || 0;\n    data[pos + 1] = color.g || 0;\n    data[pos + 2] = color.b || 0;\n    // eslint-disable-next-line no-prototype-builtins\n    data[pos + 3] = color.hasOwnProperty('a') ? color.a : 255;\n  }\n\n  function floodFill(startX, startY, fillColor) {\n    const dstImg = ctxOfMiddleCanvas.getImageData(0, 0,\n      canvasWhichStateOnMiddleOfPage.width, canvasWhichStateOnMiddleOfPage.height);\n    const dstData = dstImg.data;\n\n    const startPos = getPixelPos(startX, startY);\n    const startColor = {\n      r: dstData[startPos],\n      g: dstData[startPos + 1],\n      b: dstData[startPos + 2],\n      a: dstData[startPos + 3],\n    };\n    const todo = [[startX, startY]];\n\n    while (todo.length) {\n      const pos = todo.pop();\n      const x = pos[0];\n      let y = pos[1];\n      let currentPos = getPixelPos(x, y);\n\n      while ((y-- >= 0) && matchStartColor(dstData, currentPos, startColor)) {\n        currentPos -= canvasWhichStateOnMiddleOfPage.width * 4;\n      }\n\n      currentPos += canvasWhichStateOnMiddleOfPage.width * 4;\n      ++y;\n      let reachLeft = false;\n      let reachRight = false;\n\n      while ((y++ < canvasWhichStateOnMiddleOfPage.height - 1)\n      && matchStartColor(dstData, currentPos, startColor)) {\n        colorPixel(dstData, currentPos, fillColor);\n\n        if (x > 0) {\n          if (matchStartColor(dstData, currentPos - 4, startColor)) {\n            if (!reachLeft) {\n              todo.push([x - 1, y]);\n              reachLeft = true;\n            }\n          } else if (reachLeft) {\n            reachLeft = false;\n          }\n        }\n\n        if (x < canvasWhichStateOnMiddleOfPage.width - 1) {\n          if (matchStartColor(dstData, currentPos + 4, startColor)) {\n            if (!reachRight) {\n              todo.push([x + 1, y]);\n              reachRight = true;\n            }\n          } else if (reachRight) {\n            reachRight = false;\n          }\n        }\n\n        currentPos += canvasWhichStateOnMiddleOfPage.width * 4;\n      }\n    }\n\n    ctxOfMiddleCanvas.putImageData(dstImg, 0, 0);\n  }\n\n  function hexToRgb(hex) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16),\n    } : null;\n  }\n\n  function activate(event) {\n    const { x, y } = takeXAndYCoordinates(event);\n    const startX = x - amountOfDivisonsOfCanvas;\n    const startY = y - amountOfDivisonsOfCanvas;\n    let currentColor;\n    const top = hexToRgb(colorTop.value);\n    const bottom = hexToRgb(colorBottom.value);\n    const leftClick = 1;\n    const rightClick = 3;\n    if (event.which === leftClick) currentColor = top;\n    if (event.which === rightClick) currentColor = bottom;\n    floodFill(startX, startY, currentColor);\n  }\n\n  canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', activate);\n\n  divWithTools.addEventListener('mouseup', () => {\n    if (!bucket.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', activate);\n    }\n  });\n}\n","export default function moveToolFunction() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  const divWithTools = document.getElementById('div-with-tools');\n  const moveTool = document.getElementsByClassName('tools-which-change-canvas--move-tool')[0];\n  const imageWhichMove = new Image();\n  let isDraggable = false;\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n  let currentX = 0;\n  let currentY = 0;\n\n\n  function takeXAndYCoordinates(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n\n    function xAndY() {\n      const newX = coordinatesPerSquareOnMainCanvasX\n        .filter(coordinate => coordinate >= event.offsetX);\n      const newY = coordinatesPerSquareOnMainCanvasY\n        .filter(coordinate => coordinate >= event.offsetY);\n      const x = newX[0];\n      const y = newY[0];\n      return { x, y };\n    }\n\n    makeCoordinatePerSquare();\n    return xAndY();\n  }\n\n  function resetCanvas() {\n    ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddleOfPage.width,\n      canvasWhichStateOnMiddleOfPage.height);\n  }\n\n  function isDraggableFalse() {\n    isDraggable = false;\n  }\n\n  function forMouseDown(event) {\n    const { x, y } = takeXAndYCoordinates(event);\n    const mouseX = x - amountOfDivisonsOfCanvas;\n    const mouseY = y - amountOfDivisonsOfCanvas;\n\n    if (mouseX >= (currentX - imageWhichMove.width / 2)\n      && mouseX <= (currentX + imageWhichMove.width / 2)\n      && mouseY >= (currentY - imageWhichMove.height / 2)\n      && mouseY <= (currentY + imageWhichMove.height / 2)) {\n      isDraggable = true;\n    }\n  }\n\n  function forMouseMove(event) {\n    if (isDraggable) {\n      const { x, y } = takeXAndYCoordinates(event);\n      currentX = x;\n      currentY = y;\n    }\n  }\n\n  function mouseEvents() {\n    canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', forMouseDown);\n    canvasWhichStateOnMiddleOfPage.addEventListener('mousemove', forMouseMove);\n    canvasWhichStateOnMiddleOfPage.addEventListener('mouseup', isDraggableFalse);\n    canvasWhichStateOnMiddleOfPage.addEventListener('mouseout', isDraggableFalse);\n  }\n  function drawImagew() {\n    ctxOfMiddleCanvas.drawImage(imageWhichMove, currentX - (imageWhichMove.width / 2),\n      currentY - (imageWhichMove.height / 2));\n  }\n\n  function go() {\n    currentX = canvasWhichStateOnMiddleOfPage.width / 2;\n    currentY = canvasWhichStateOnMiddleOfPage.height / 2;\n    const picture = canvasWhichStateOnMiddleOfPage.toDataURL('image/png');\n    imageWhichMove.src = picture;\n    mouseEvents();\n    const interval = setInterval(() => {\n      resetCanvas();\n      drawImagew();\n      if (!moveTool.classList.contains('active')) {\n        clearInterval(interval);\n      }\n    }, 1000 / 30);\n  }\n  divWithTools.addEventListener('mouseup', () => {\n    const picture = canvasWhichStateOnMiddleOfPage.toDataURL('image/png');\n    imageWhichMove.src = picture;\n  });\n  canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', go);\n\n  function deactivate() {\n    if (!moveTool.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', go);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', forMouseDown);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousemove', forMouseMove);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mouseup', isDraggableFalse);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mouseout', isDraggableFalse);\n    }\n  }\n  divWithTools.addEventListener('mouseup', deactivate);\n  document.addEventListener('keyup', deactivate);\n}\n","export default function rectangleToolFunction() {\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  const divWithTools = document.getElementById('div-with-tools');\n  const rectangleTool = document.getElementsByClassName('tools-which-change-canvas--rectangle-tool')[0];\n  const colorLeftClick = document.getElementById('tools-choose-color--top');\n  const colorRightClick = document.getElementById('tools-choose-color--bottom');\n  const image = new Image();\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n  let startPointX = 0;\n  let startPointY = 0;\n  let endPointX = 0;\n  let endPointY = 0;\n\n\n  function takeXAndYCoordinates(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n\n    function xAndY() {\n      const newX = coordinatesPerSquareOnMainCanvasX\n        .filter(coordinate => coordinate >= event.offsetX);\n      const newY = coordinatesPerSquareOnMainCanvasY\n        .filter(coordinate => coordinate >= event.offsetY);\n      const x = newX[0];\n      const y = newY[0];\n      return { x, y };\n    }\n\n    makeCoordinatePerSquare();\n    return xAndY();\n  }\n\n  function takeImage() {\n    if (rectangleTool.classList.contains('active')) {\n      const currentImage = canvasWhichStateOnMiddleOfPage.toDataURL('image/png');\n      image.src = currentImage;\n    }\n  }\n\n  function drawRectangle(event) {\n    event.preventDefault();\n    const { x, y } = takeXAndYCoordinates(event);\n    const leftClick = 1;\n    const rightClick = 3;\n    endPointX = x - amountOfDivisonsOfCanvas;\n    endPointY = y - amountOfDivisonsOfCanvas;\n    ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddleOfPage.width,\n      canvasWhichStateOnMiddleOfPage.height);\n    ctxOfMiddleCanvas.drawImage(image, 0, 0);\n    ctxOfMiddleCanvas.lineWidth = amountOfDivisonsOfCanvas;\n    if (event.which === leftClick) ctxOfMiddleCanvas.strokeStyle = colorLeftClick.value;\n    if (event.which === rightClick) ctxOfMiddleCanvas.strokeStyle = colorRightClick.value;\n    if (startPointX <= endPointX) {\n      ctxOfMiddleCanvas.strokeRect(startPointX, startPointY,\n        endPointX - startPointX, endPointY - startPointY);\n    }\n\n    if (startPointX >= endPointX) {\n      ctxOfMiddleCanvas.strokeRect(endPointX, endPointY,\n        startPointX - endPointX, startPointY - endPointY);\n    }\n  }\n\n  function takeStartPoint(event) {\n    event.preventDefault();\n    takeImage();\n    const { x, y } = takeXAndYCoordinates(event);\n    startPointX = x - amountOfDivisonsOfCanvas;\n    startPointY = y - amountOfDivisonsOfCanvas;\n    canvasWhichStateOnMiddleOfPage.addEventListener('mousemove', drawRectangle);\n  }\n\n  function stopDrawing() {\n    canvasWhichStateOnMiddleOfPage.removeEventListener('mousemove', drawRectangle);\n    const picture = canvasWhichStateOnMiddleOfPage.toDataURL('image/png');\n    image.src = picture;\n  }\n\n  function activate() {\n    if (rectangleTool.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.addEventListener('mousedown', takeStartPoint);\n      canvasWhichStateOnMiddleOfPage.addEventListener('mouseup', stopDrawing);\n    }\n  }\n\n  function deactivate() {\n    if (!rectangleTool.classList.contains('active')) {\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mousedown', takeStartPoint);\n      canvasWhichStateOnMiddleOfPage.removeEventListener('mouseup', stopDrawing);\n    }\n  }\n\n  divWithTools.addEventListener('mouseup', activate);\n  divWithTools.addEventListener('mouseup', deactivate);\n  document.addEventListener('keyup', activate);\n  document.addEventListener('keyup', deactivate);\n}\n","export default function undoFunction() {\n  const canvasWhichStateOnMiddlePage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddlePage.getContext('2d');\n  const listOfFrames = document.getElementById('list-of-frames');\n  const deleteButton = 46;\n  const pressDublicateButton = 221;\n  const buttonZ = 90;\n  let storageOfPreviousImages = new Map();\n\n  function saveImages() {\n    let saveSyncImage = [];\n    const picture = canvasWhichStateOnMiddlePage.toDataURL('image/png');\n    const numberOfCurrentFrame = +document.getElementsByClassName('yellow-frame-items')[0].innerText;\n    if (!storageOfPreviousImages.has(numberOfCurrentFrame)) {\n      saveSyncImage.push(picture);\n      storageOfPreviousImages.set(numberOfCurrentFrame, JSON.stringify(saveSyncImage));\n    } else {\n      saveSyncImage = JSON.parse(storageOfPreviousImages.get(numberOfCurrentFrame));\n      saveSyncImage.push(picture);\n      storageOfPreviousImages.set(numberOfCurrentFrame, JSON.stringify(saveSyncImage));\n    }\n  }\n\n  function backPreviosImage(event) {\n    if ((event.keyCode === buttonZ) && event.ctrlKey) {\n      event.preventDefault();\n      const numberOfCurrentFrame = +document.getElementsByClassName('yellow-frame-items')[0].innerText;\n      const pictureArray = JSON.parse(storageOfPreviousImages.get(numberOfCurrentFrame));\n      const { length } = pictureArray;\n      const image = new Image();\n      image.src = pictureArray[length - 1];\n      ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddlePage.width,\n        canvasWhichStateOnMiddlePage.height);\n      ctxOfMiddleCanvas.drawImage(image, 0, 0);\n      pictureArray.pop();\n      storageOfPreviousImages.set(numberOfCurrentFrame, JSON.stringify(pictureArray));\n    }\n  }\n\n  canvasWhichStateOnMiddlePage.addEventListener('mousedown', saveImages);\n  document.addEventListener('keyup', backPreviosImage);\n\n  function changeStorageMapAfterDeleteFrame(event) {\n    event.stopPropagation();\n    let numberOfDeleteFrame;\n    if (event.keyCode === deleteButton) {\n      numberOfDeleteFrame = +document.getElementsByClassName('yellow-frame-items')[0].innerText + 1;\n    } else {\n      numberOfDeleteFrame = +event.path[2].innerText;\n    }\n    storageOfPreviousImages.delete(numberOfDeleteFrame);\n    let numberWhichChangeNumberOfFrame = numberOfDeleteFrame;\n    for (let key = numberOfDeleteFrame; key <= listOfFrames.children.length; key += 1) {\n      if (storageOfPreviousImages.has(key + 1)) {\n        const value = storageOfPreviousImages.get(key + 1);\n        storageOfPreviousImages.delete(key + 1);\n        storageOfPreviousImages.set(numberWhichChangeNumberOfFrame, value);\n        numberWhichChangeNumberOfFrame += 1;\n      }\n    }\n    storageOfPreviousImages = new Map([...storageOfPreviousImages.entries()].sort());\n  }\n\n  function activate(event) {\n    if (event.target.classList.contains('fa-trash-alt') || event.keyCode === deleteButton) {\n      changeStorageMapAfterDeleteFrame(event);\n    }\n  }\n\n  listOfFrames.addEventListener('click', activate);\n\n  function changeKeysAfterDublicateFrame(event) {\n    const amountOfFrames = listOfFrames.children.length;\n    let frameOnWhichClickDublicate = event.path[2];\n    let numberOfDublicateFrame = +frameOnWhichClickDublicate\n      .children[0].children[0].innerText + 1;\n    if (event.keyCode === pressDublicateButton) {\n      numberOfDublicateFrame = +document.getElementsByClassName('yellow-frame-items')[0].innerText;\n      frameOnWhichClickDublicate = listOfFrames.children[numberOfDublicateFrame - 2];\n    }\n    for (let key = amountOfFrames; key >= numberOfDublicateFrame; key -= 1) {\n      if (storageOfPreviousImages.has(key)) {\n        const value = storageOfPreviousImages.get(key);\n        storageOfPreviousImages.delete(key);\n        storageOfPreviousImages.set(key + 1, value);\n      }\n    }\n    storageOfPreviousImages\n      .set(numberOfDublicateFrame, storageOfPreviousImages.get(numberOfDublicateFrame - 1));\n    storageOfPreviousImages = new Map([...storageOfPreviousImages.entries()].sort());\n  }\n\n  function afterDublicate(event) {\n    if (event.target.className === 'fas fa-copy'\n    || event.keyCode === pressDublicateButton) changeKeysAfterDublicateFrame(event);\n  }\n\n  listOfFrames.addEventListener('click', afterDublicate);\n  document.addEventListener('keyup', afterDublicate);\n}\n","import activateNoActivateTools from '../tools/activeNoActiveTools';\nimport penAndEraserTools from '../tools/penAndEraserTools';\nimport colorPickerTool from '../tools/colorPickerToolAndBrightness';\nimport allPixelsSameColorTool from '../tools/allPixelsSameColorTool';\nimport showCoordinate from './showCoordinate';\nimport penMirrorTool from '../tools/penMirrorTool';\nimport ditheringTool from '../tools/ditheringTool';\nimport paintBucketTool from '../tools/paintBucketTool';\nimport moveTool from '../tools/moveTool';\nimport rectangleTool from '../tools/rectangleTool';\nimport undoTool from '../tools/undoTool';\nimport GIF from './gif';\n\nexport default function actionWithCanvases() {\n  const divWithTools = document.getElementById('div-with-tools');\n  const listOfFrames = document.getElementById('list-of-frames');\n  const inputRangeOnPreview = document.getElementById('preview-fps--choose-fps');\n  const preview = document.getElementById('canvas-preview');\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  let imagesForPreviewAndFrames = new Map();\n  const pressDublicateButton = 221;\n  let changeToolAfterKeyboardUse = document.getElementsByClassName('active')[0];\n  let previosActiveTool = document.getElementsByClassName('active')[0];\n\n  function deleteNullFromImagesMap() {\n    if (imagesForPreviewAndFrames.has(null)) imagesForPreviewAndFrames.delete(null);\n  }\n\n  function saveDataUrls() {\n    const childsOfUl = Array.from(listOfFrames.children);\n    const arrayOfYellowBorder = [];\n    childsOfUl.forEach((elem) => {\n      if (elem.classList[1] === 'yellow-border') { arrayOfYellowBorder.push(elem); }\n    });\n    const picture = canvasWhichStateOnMiddleOfPage.toDataURL('image/png');\n    const numberOfCurrentFrame = Number(arrayOfYellowBorder[0].innerText);\n    imagesForPreviewAndFrames.set(numberOfCurrentFrame, picture);\n  }\n\n  function changeCanvasOfPreviewAndFrameAfterDrawing() {\n    const ul = document.getElementById('list-of-frames');\n    const childsOfUl = Array.from(ul.children);\n    const arrayOfYellowBorder = [];\n    childsOfUl.forEach((elem) => {\n      if (elem.classList[1] === 'yellow-border') arrayOfYellowBorder.push(+elem.innerText);\n    });\n    const image = imagesForPreviewAndFrames.get(arrayOfYellowBorder[0]);\n    preview.innerHTML = '<img id=\"image-preview\" width=\"202\" height=\"200\">';\n    document\n      .getElementById('image-preview')\n      .setAttribute('src', image);\n    const currentFrame = childsOfUl[arrayOfYellowBorder[0] - 1].children[4];\n    currentFrame.innerHTML = '<img class=\"image-frame\" width=\"50\" height=\"46\">';\n    currentFrame\n      .children[0]\n      .setAttribute('src', image);\n  }\n\n  function changeMainCanvasAfterSwitchCurrentFrame(event) {\n    const keyboardButtonUp = 38;\n    const keyboardButtonDown = 40;\n    setTimeout(() => {\n      if (event.target.className === 'canvas-frame' || event.target.className === 'image-frame'\n       || event.keyCode === keyboardButtonDown || event.keyCode === keyboardButtonUp) {\n        const numberOfCurrentFrame = +document.getElementsByClassName('yellow-frame-items')[0]\n          .children[0].innerText;\n        const imageOfCurrentFrame = imagesForPreviewAndFrames.get(numberOfCurrentFrame);\n        const image = new Image();\n        image.src = imageOfCurrentFrame;\n        ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddleOfPage.width,\n          canvasWhichStateOnMiddleOfPage.height);\n        ctxOfMiddleCanvas.drawImage(image, 0, 0);\n      }\n    }, 10);\n  }\n\n  function changeKeysAfterDeleteFrame(event) {\n    const deleteKeyCode = 46;\n    let numberOfCurrentFrame;\n    let numberOfDeleteFrame;\n    if (event.keyCode === deleteKeyCode) {\n      numberOfCurrentFrame = +document.getElementsByClassName('yellow-frame-items')[0].innerText;\n      numberOfDeleteFrame = numberOfCurrentFrame + 1;\n    } else {\n      numberOfDeleteFrame = +event.path[2].innerText;\n      numberOfCurrentFrame = numberOfDeleteFrame - 1;\n    }\n    imagesForPreviewAndFrames.delete(numberOfDeleteFrame);\n    let numberWhichChangeNumberOfFrame = numberOfDeleteFrame;\n    for (let key = numberOfDeleteFrame; key <= listOfFrames.children.length; key += 1) {\n      if (imagesForPreviewAndFrames.has(key + 1)) {\n        const value = imagesForPreviewAndFrames.get(key + 1);\n        imagesForPreviewAndFrames.delete(key + 1);\n        imagesForPreviewAndFrames.set(numberWhichChangeNumberOfFrame, value);\n        numberWhichChangeNumberOfFrame += 1;\n      }\n    }\n    imagesForPreviewAndFrames = new Map([...imagesForPreviewAndFrames.entries()].sort());\n    const image = new Image();\n    image.src = imagesForPreviewAndFrames.get(numberOfCurrentFrame);\n    ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddleOfPage.width,\n      canvasWhichStateOnMiddleOfPage.height);\n    ctxOfMiddleCanvas.drawImage(image, 0, 0);\n  }\n\n  function changeKeysAfterDublicateFrame(event) {\n    let frameOnWhichClickDublicate = event.path[2];\n    let numberOfDublicateFrame = +frameOnWhichClickDublicate\n      .children[0].children[0].innerText + 1;\n    if (event.keyCode === pressDublicateButton) {\n      // eslint-disable-next-line prefer-destructuring\n      frameOnWhichClickDublicate = document.getElementsByClassName('yellow-border')[0];\n      numberOfDublicateFrame = +document.getElementsByClassName('yellow-frame-items')[0].innerText;\n    }\n    for (let key = imagesForPreviewAndFrames.size; key >= numberOfDublicateFrame; key -= 1) {\n      if (imagesForPreviewAndFrames.has(key)) {\n        const value = imagesForPreviewAndFrames.get(key);\n        imagesForPreviewAndFrames.delete(key);\n        imagesForPreviewAndFrames.set(key + 1, value);\n      }\n    }\n    imagesForPreviewAndFrames\n      .set(numberOfDublicateFrame, imagesForPreviewAndFrames.get(numberOfDublicateFrame - 1));\n    imagesForPreviewAndFrames = new Map([...imagesForPreviewAndFrames.entries()].sort());\n  }\n\n  function changeMainCanvasAfterDublicateFrame(event) {\n    let frameNumberOnWhichClickDublicate = +event.path[2].innerText;\n    if (event.keyCode === pressDublicateButton) {\n      frameNumberOnWhichClickDublicate = +document.getElementsByClassName('yellow-frame-items')[0].innerText;\n    }\n    if (imagesForPreviewAndFrames.has(frameNumberOnWhichClickDublicate)) {\n      const imageOfCurrentFrame = imagesForPreviewAndFrames.get(frameNumberOnWhichClickDublicate);\n      const image = new Image();\n      image.src = imageOfCurrentFrame;\n      ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddleOfPage.width,\n        canvasWhichStateOnMiddleOfPage.height);\n      ctxOfMiddleCanvas.drawImage(image, 0, 0);\n    }\n  }\n\n  function animationOnPreview() {\n    const keyboardButtonLeft = 37;\n    const keyboardButtonRight = 39;\n    const fpsNubmer = document.getElementsByClassName('preview-fps--number-fps')[0];\n    let number = 0;\n    let fpsOnPreview = Number(inputRangeOnPreview.value);\n\n    function forAnimation(event) {\n      if (event.keyCode === keyboardButtonLeft || event.keyCode === keyboardButtonRight\n        || event.target.classList.contains('preview-fps--input')) {\n        const amountImages = imagesForPreviewAndFrames.size;\n        const keysOfImages = [];\n        // eslint-disable-next-line no-restricted-syntax\n        for (const key of imagesForPreviewAndFrames.keys()) {\n          keysOfImages.push(key);\n        }\n        const interval = setInterval(() => {\n          if (number === amountImages) number = 0;\n          setTimeout(() => {\n            deleteNullFromImagesMap();\n            document.getElementById('canvas-preview').innerHTML = '<img id=\"image-preview\" width=\"202\" height=\"200\">';\n            document\n              .getElementById('image-preview')\n              .setAttribute('src', imagesForPreviewAndFrames.get(keysOfImages[number - 1]));\n            if (fpsOnPreview === 0) clearInterval(interval);\n          }, 1000);\n          number += 1;\n        }, 1000 / fpsOnPreview);\n      }\n    }\n\n    inputRangeOnPreview.addEventListener('mousemove', () => {\n      fpsNubmer.innerHTML = `${Number(inputRangeOnPreview.value)} fps`;\n    });\n\n    inputRangeOnPreview.addEventListener('mouseup', (event) => {\n      fpsOnPreview = Number(inputRangeOnPreview.value);\n      fpsNubmer.innerHTML = `${Number(inputRangeOnPreview.value)} fps`;\n      if (fpsOnPreview > 0) {\n        forAnimation(event);\n      }\n    });\n\n    document.addEventListener('keyup', (event) => {\n      fpsOnPreview = Number(inputRangeOnPreview.value);\n      fpsNubmer.innerHTML = `${Number(inputRangeOnPreview.value)} fps`;\n      if (fpsOnPreview > 0) {\n        forAnimation(event);\n      }\n    });\n  }\n\n  function fullScreenPreview() {\n    function toggleFullScreen(event) {\n      if (!preview.fullscreenElement && (event.target === preview || event.target.localName === 'img' || event.which === 70)) {\n        preview.requestFullscreen();\n      }\n    }\n    document.addEventListener('dblclick', toggleFullScreen);\n    document.addEventListener('keyup', toggleFullScreen);\n  }\n  fullScreenPreview();\n\n  // function below needs to change current tool\n  function rotationTool() {\n    function rotation(event) {\n      event.stopPropagation();\n      const numberOfCurrentFrame = +document\n        .getElementsByClassName('yellow-frame-items')[0].innerText;\n      const image = new Image();\n      image.src = imagesForPreviewAndFrames.get(numberOfCurrentFrame);\n      ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddleOfPage.width,\n        canvasWhichStateOnMiddleOfPage.height);\n      ctxOfMiddleCanvas.drawImage(image, 0, 0);\n      ctxOfMiddleCanvas.rotate(90 * Math.PI / 180);\n      ctxOfMiddleCanvas.translate(0, -canvasWhichStateOnMiddleOfPage.width);\n      const picture = canvasWhichStateOnMiddleOfPage.toDataURL('image/png');\n      imagesForPreviewAndFrames.set(numberOfCurrentFrame, picture);\n    }\n    divWithTools.addEventListener('mousedown', rotation);\n  }\n\n  function tools(event) {\n    if (event.target.classList.contains('tools-which-change-canvas')\n    || event.path[1].classList.contains('tools-which-change-canvas')) {\n      event.stopPropagation();\n      if (document.getElementsByClassName('active')[0] !== undefined) {\n        [previosActiveTool] = document.getElementsByClassName('active');\n      }\n      activateNoActivateTools(event, previosActiveTool);\n      const activeTool = document.getElementsByClassName('active')[0] || previosActiveTool;\n      undoTool(event);\n      if (activeTool.children[0].classList.contains('fa-pencil-alt')\n     || previosActiveTool.children[0].classList.contains('fa-pencil-alt')\n     || activeTool.children[0].classList.contains('fa-eraser')\n     || previosActiveTool.children[0].classList.contains('fa-eraser')) penAndEraserTools(event);\n      if (activeTool.children[0].classList.contains('fa-eye-dropper')\n     || activeTool.children[0].classList.contains('lighten')\n     || activeTool.children[0].classList.contains('darken')) colorPickerTool(event);\n      if (activeTool.classList\n        .contains('tools-which-change-canvas--paint-all-pixels-of-the-same-color')\n       || previosActiveTool.classList\n         .contains('tools-which-change-canvas--paint-all-pixels-of-the-same-color')) {\n        allPixelsSameColorTool(event);\n      }\n      if (event.target.classList.contains('tools-which-change-canvas--mirror-pen')\n     || event.target.classList.contains('fa-grip-lines-vertical')\n     || previosActiveTool.children[0].classList.contains('fa-grip-lines-vertical')) {\n        penMirrorTool(event);\n      }\n      if (event.target.classList.contains('tools-which-change-canvas--dithering-tool')\n     || event.target.classList.contains('fa-chess-board')\n     || previosActiveTool.children[0].classList.contains('fa-chess-board')) {\n        ditheringTool(event);\n      }\n      if (activeTool.children[0].classList.contains('fa-fill-drip')) {\n        paintBucketTool(event);\n      }\n      if (activeTool.children[0].classList.contains('fa-hand-paper')) {\n        moveTool(event);\n      }\n      // if (activeTool.children[0].classList.contains('fa-magic')) {\n      //   shapeSelectionTool(event);\n      // }\n      if (activeTool.children[0].classList.contains('fa-square')) {\n        rectangleTool(event);\n      }\n    }\n  }\n\n  function toolsForKeyboardUse(event) {\n    event.stopPropagation();\n    const activeTool = document.getElementsByClassName('active')[0];\n    undoTool(event);\n    if (activeTool.children[0].classList.contains('fa-pencil-alt')\n     || changeToolAfterKeyboardUse.children[0].classList.contains('fa-pencil-alt')\n     || activeTool.children[0].classList.contains('fa-eraser')\n     || changeToolAfterKeyboardUse.children[0].classList.contains('fa-eraser')) penAndEraserTools(event);\n    if (activeTool.children[0].classList.contains('fa-eye-dropper')\n     || activeTool.children[0].classList.contains('lighten')\n     || activeTool.children[0].classList.contains('darken')) colorPickerTool(event);\n    if (activeTool.classList\n      .contains('tools-which-change-canvas--paint-all-pixels-of-the-same-color')\n       || changeToolAfterKeyboardUse.classList\n         .contains('tools-which-change-canvas--paint-all-pixels-of-the-same-color')) {\n      allPixelsSameColorTool(event);\n    }\n    if (event.target.classList.contains('tools-which-change-canvas--rotate')\n     || event.target.classList.contains('fa-redo')) {\n      rotationTool(event);\n    }\n    if (event.target.classList.contains('tools-which-change-canvas--mirror-pen')\n     || event.target.classList.contains('fa-grip-lines-vertical')\n     || changeToolAfterKeyboardUse.children[0].classList.contains('fa-grip-lines-vertical')) {\n      penMirrorTool(event);\n    }\n    if (event.target.classList.contains('tools-which-change-canvas--dithering-tool')\n     || event.target.classList.contains('fa-chess-board')\n     || changeToolAfterKeyboardUse.children[0].classList.contains('fa-chess-board')) {\n      ditheringTool(event);\n    }\n    if (activeTool.children[0].classList.contains('fa-fill-drip')) {\n      paintBucketTool(event);\n    }\n    if (activeTool.children[0].classList.contains('fa-hand-paper')) {\n      moveTool(event);\n    }\n    if (activeTool.children[0].classList.contains('fa-square')) {\n      rectangleTool(event);\n    }\n    changeToolAfterKeyboardUse = activeTool;\n  }\n\n  function disableSaveImageRightClick() {\n    document.body.addEventListener('contextmenu', (event) => {\n      event.preventDefault();\n    });\n  }\n\n  function useEventListeners() {\n    canvasWhichStateOnMiddleOfPage.addEventListener('mouseup', (event) => {\n      saveDataUrls(event);\n      changeCanvasOfPreviewAndFrameAfterDrawing(event);\n    });\n\n    listOfFrames.addEventListener('click', (event) => {\n      changeMainCanvasAfterSwitchCurrentFrame(event);\n      if (event.target.className === 'fas fa-trash-alt') changeKeysAfterDeleteFrame(event);\n      if (event.target.className === 'fas fa-copy'\n        || event.keyCode === pressDublicateButton) changeKeysAfterDublicateFrame(event);\n      if (event.target.className === 'fas fa-copy'\n        || event.keyCode === pressDublicateButton) changeMainCanvasAfterDublicateFrame(event);\n    });\n    document.addEventListener('keydown', changeMainCanvasAfterSwitchCurrentFrame);\n    document.addEventListener('keyup', (event) => {\n      const deleteKeyCode = 46;\n      if (event.keyCode === deleteKeyCode) changeKeysAfterDeleteFrame(event);\n    });\n    document.addEventListener('keyup', (event) => {\n      if (event.keyCode === pressDublicateButton) {\n        changeMainCanvasAfterSwitchCurrentFrame(event);\n        changeKeysAfterDublicateFrame(event);\n        changeMainCanvasAfterDublicateFrame(event);\n      }\n    });\n\n    inputRangeOnPreview.addEventListener('mousedown', animationOnPreview);\n    document.addEventListener('keydown', animationOnPreview);\n    divWithTools.addEventListener('mousedown', tools);\n    document.addEventListener('keyup', toolsForKeyboardUse);\n  }\n  disableSaveImageRightClick();\n  useEventListeners();\n  showCoordinate();\n\n  // local storage\n  function storage() {\n    let saveImagesAndKeysFromMap = [];\n    function saveDataInArray() {\n      const arrayOfKeys = [];\n      const arrayOfValues = [];\n      // eslint-disable-next-line no-restricted-syntax\n      for (const key of imagesForPreviewAndFrames.keys()) {\n        arrayOfKeys.push(key);\n      }\n      // eslint-disable-next-line no-restricted-syntax\n      for (const value of imagesForPreviewAndFrames) {\n        arrayOfValues.push(value);\n      }\n      if (localStorage.getItem('images') !== null) {\n        saveImagesAndKeysFromMap = [];\n      }\n      let number = 0;\n      while (number < arrayOfKeys.length) {\n        saveImagesAndKeysFromMap.push({\n          arrayOfKeys: arrayOfValues,\n        });\n        number += 1;\n      }\n      localStorage.setItem('images', JSON.stringify(saveImagesAndKeysFromMap));\n    }\n    canvasWhichStateOnMiddleOfPage.addEventListener('mouseup', saveDataInArray);\n    listOfFrames.addEventListener('mouseup', saveDataInArray);\n    window.onload = () => {\n      if (localStorage.getItem('images') !== null) {\n        const images = JSON.parse(localStorage.getItem('images'));\n        if (images[images.length - 1] !== undefined) {\n          const takeLastItemFromImages = images[images.length - 1].arrayOfKeys;\n          const numbersOfFrames = [];\n          takeLastItemFromImages.forEach((element) => {\n            numbersOfFrames.push(element[0]);\n          });\n          const defineAmountOfFrames = Math.max.apply(null, numbersOfFrames);\n          for (let amount = 0; amount < defineAmountOfFrames - 1; amount += 1) {\n            const frame = listOfFrames.children[listOfFrames.children.length - 1];\n            const frameClone = frame.cloneNode(true);\n            frameClone.classList.remove('yellow-border');\n            frameClone.classList.add('gray-border');\n            Array.from(frameClone.children).forEach((element) => {\n              if (element.classList.contains('yellow-frame-items')) {\n                element.classList.remove('yellow-frame-items');\n                element.classList.add('gray-frame-items');\n              }\n            });\n            frame.parentNode.insertBefore(frameClone, frame.nextSibling);\n          }\n          // update numbers of frames\n          Array.from(listOfFrames.children).forEach((element, index) => {\n          // eslint-disable-next-line no-param-reassign\n            element.children[0].children[0].innerText = index + 1;\n          });\n\n          // change Map with images\n          takeLastItemFromImages.forEach((element) => {\n            imagesForPreviewAndFrames.set(element[0], element[1]);\n          });\n          // change image of frames\n          Array.from(listOfFrames.children).forEach((element) => {\n            const keyOfMap = +element.children[0].innerText;\n            if (imagesForPreviewAndFrames.has(keyOfMap)\n            && imagesForPreviewAndFrames.get(keyOfMap) !== null) {\n              const image = imagesForPreviewAndFrames.get(keyOfMap);\n              // eslint-disable-next-line no-param-reassign\n              element.children[4].innerHTML = '<img class=\"image-frame\" width=\"50\" height=\"46\">';\n              element.children[4]\n                .children[0]\n                .setAttribute('src', image);\n            }\n          });\n          // change image of main canvas and preview\n          if (imagesForPreviewAndFrames.has(1)) {\n            const previewImage = document.getElementById('canvas-preview');\n            const imageForPreview = imagesForPreviewAndFrames.get(1);\n            const image = new Image();\n            image.src = imagesForPreviewAndFrames.get(1);\n            ctxOfMiddleCanvas.clearRect(0, 0, canvasWhichStateOnMiddleOfPage.width,\n              canvasWhichStateOnMiddleOfPage.height);\n            ctxOfMiddleCanvas.drawImage(image, 0, 0);\n            previewImage.innerHTML = '<img id=\"image-preview\" width=\"202\" height=\"200\">';\n            document.getElementById('image-preview')\n              .setAttribute('src', imageForPreview);\n          }\n        }\n      }\n    };\n  }\n  storage();\n\n  function downloadGif() {\n    const nameByUserToGif = document.getElementById('save-gif--input-text');\n    const submitNameToGif = document.getElementById('save-gif--input-submit');\n    const keyboardButtonL = 76;\n\n    function downloadGifToFileSystem(event) {\n      if (event.keyCode === keyboardButtonL || event.type === 'click') {\n        // eslint-disable-next-line global-require\n        const download = require('downloadjs');\n        const valueOfFps = document.getElementById('preview-fps--choose-fps').value;\n        const delayForFrames = Math.floor(1000 / valueOfFps);\n        const gif = new GIF({\n          workers: 2,\n          workerScript: './gif.worker.js',\n          background: '#fff',\n          quality: 10,\n        });\n\n        // add an image element\n        // eslint-disable-next-line no-restricted-syntax\n        for (const value of imagesForPreviewAndFrames.values()) {\n          const image = new Image();\n          image.src = value;\n\n          gif.addFrame(image, { delay: delayForFrames });\n        }\n        gif.on('finished', (blob) => {\n          if (event.keyCode === keyboardButtonL) {\n            const nameOfGif = global.prompt('Choose name of gif', 'animation');\n            download(blob, nameOfGif, 'image/gif');\n          } else {\n            download(blob, nameByUserToGif.value, 'image/gif');\n          }\n        });\n        gif.render();\n      }\n    }\n\n    submitNameToGif.addEventListener('click', downloadGifToFileSystem);\n    document.addEventListener('keyup', downloadGifToFileSystem);\n  }\n\n  downloadGif();\n\n  return { tools };\n}\n","export default function tools(event, activeTool) {\n  function makeToolNoActive() {\n    activeTool.classList.remove('active');\n    activeTool.classList.add('no-active');\n  }\n\n  function makeToolActive() {\n    if (event.target.classList.contains('no-active')) {\n      event.target.classList.remove('no-active');\n      event.target.classList.add('active');\n    }\n\n    if (event.target.classList.contains('fas') || event.target.classList.contains('fab')\n        || event.target.classList.contains('far')) {\n      event.path[1].classList.remove('no-active');\n      event.path[1].classList.add('active');\n    }\n  }\n\n  makeToolNoActive();\n  makeToolActive(event);\n  return { makeToolActive, makeToolNoActive };\n}\n","export default function showCoordinate() {\n  const placeShowCoordinates = document.getElementById('place-for-show-coordinates');\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const units = 32;\n  const amountOfDivisonsOfCanvas = 19;\n\n  function coordinates(event) {\n    const coordinatesPerSquareOnMainCanvasX = [];\n    const coordinatesPerSquareOnMainCanvasY = [];\n    function makeCoordinatePerSquare() {\n      let devider = 1;\n      let sizeOfSquare = 0;\n      while (devider <= units) {\n        sizeOfSquare = amountOfDivisonsOfCanvas * devider;\n        coordinatesPerSquareOnMainCanvasX.push(sizeOfSquare);\n        coordinatesPerSquareOnMainCanvasY.push(sizeOfSquare);\n        devider += 1;\n      }\n    }\n    makeCoordinatePerSquare();\n    function sizeNumbers() {\n      const x = coordinatesPerSquareOnMainCanvasX.filter(coordinate => coordinate >= event.offsetX);\n      const y = coordinatesPerSquareOnMainCanvasY.filter(coordinate => coordinate >= event.offsetY);\n      placeShowCoordinates.innerHTML = `x:${Math.floor((x[0] - amountOfDivisonsOfCanvas) / amountOfDivisonsOfCanvas)},\n      y:${Math.floor((y[0] - amountOfDivisonsOfCanvas) / amountOfDivisonsOfCanvas)}`;\n    }\n    return sizeNumbers();\n  }\n\n  canvasWhichStateOnMiddleOfPage.addEventListener('mousemove', coordinates);\n}\n","/* eslint-disable */\n// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GIF=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#000\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n\n","export default function shortcutsFunction() {\n  const shortcutPen = document.getElementById('shortcut-letter-pen');\n  const shortcutMirror = document.getElementById('shortcut-letter-mirror');\n  const shortcutBucket = document.getElementById('shortcut-letter-bucket');\n  const shortcutAllPixels = document.getElementById('shortcut-letter-all-pixels');\n  const shortcutEraser = document.getElementById('shortcut-letter-eraser');\n  const shortcutRectangle = document.getElementById('shortcut-letter-rectangle');\n  const shortcutMove = document.getElementById('shortcut-letter-move');\n  const shortcutDithering = document.getElementById('shortcut-letter-dithering');\n  const shortcutRotate = document.getElementById('shortcut-letter-rotate');\n  const shortcutLighten = document.getElementById('shortcut-letter-lighten');\n  const shortcutDarken = document.getElementById('shortcut-letter-darken');\n  const shortcutColorPicker = document.getElementById('shortcut-letter-color-picker');\n  const toolsWhichUse = [];\n  toolsWhichUse.push(shortcutPen, shortcutMirror, shortcutBucket, shortcutAllPixels,\n    shortcutEraser, shortcutRectangle, shortcutMove, shortcutDithering, shortcutRotate,\n    shortcutLighten, shortcutDarken, shortcutColorPicker);\n\n  function saveShortcutsAfterReloadingPage() {\n    const buttonForShortCuts = [];\n    toolsWhichUse.forEach((element) => {\n      buttonForShortCuts.push(element.innerHTML);\n    });\n    localStorage.setItem('shortcuts', buttonForShortCuts);\n  }\n\n  function takeShortcutsFromLocalStorage() {\n    if (localStorage.getItem('shortcuts') !== null) {\n      const shortcutsStr = localStorage.getItem('shortcuts').toString();\n      const shortcutsArr = shortcutsStr.replace(/,/gi, '');\n      toolsWhichUse.forEach((element, index) => {\n        // eslint-disable-next-line no-param-reassign\n        element.innerHTML = shortcutsArr[index];\n      });\n    }\n  }\n\n  function changeToolTips() {\n    document.getElementById('tool-tip-pen').innerHTML = `(${shortcutPen.innerHTML})`;\n    document.getElementById('tool-tip-mirror').innerHTML = `(${shortcutMirror.innerHTML})`;\n    document.getElementById('tool-tip-bucket').innerHTML = `(${shortcutBucket.innerHTML})`;\n    document.getElementById('tool-tip-all-pixels').innerHTML = `(${shortcutAllPixels.innerHTML})`;\n    document.getElementById('tool-tip-eraser').innerHTML = `(${shortcutEraser.innerHTML})`;\n    document.getElementById('tool-tip-rectangle').innerHTML = `(${shortcutRectangle.innerHTML})`;\n    document.getElementById('tool-tip-move').innerHTML = `(${shortcutMove.innerHTML})`;\n    document.getElementById('tool-tip-dithering').innerHTML = `(${shortcutDithering.innerHTML})`;\n    document.getElementById('tool-tip-lighten').innerHTML = `(${shortcutLighten.innerHTML})`;\n    document.getElementById('tool-tip-darken').innerHTML = `(${shortcutDarken.innerHTML})`;\n    document.getElementById('tool-tip-color-picker').innerHTML = `(${shortcutColorPicker.innerHTML})`;\n  }\n\n  function openShortcutsWindow() {\n    const keyboardIcon = document.getElementById('keyboard');\n    const windowShortCuts = document.getElementsByClassName('window-shortcuts')[0];\n    const buttonCloseWindowShortCut = document.getElementsByClassName('close-shortcut-window')[0];\n    const keyBoardButtonToOpenShortCuts = 191;\n    function showWindowWithShortCuts(event) {\n      if (event.target.classList.contains('fa-keyboard') || event.keyCode === keyBoardButtonToOpenShortCuts) {\n        event.preventDefault();\n        windowShortCuts.classList.toggle('display-none');\n      }\n    }\n\n    function closeWindow(event) {\n      if (event.target.classList.contains('close-shortcut-window')) {\n        event.preventDefault();\n        windowShortCuts.classList.add('display-none');\n      }\n    }\n\n    keyboardIcon.addEventListener('click', showWindowWithShortCuts);\n    buttonCloseWindowShortCut.addEventListener('click', closeWindow);\n    document.addEventListener('keyup', showWindowWithShortCuts);\n  }\n\n  // numbers equal to key code\n  function shortcutsForTools() {\n    const penToolKeyCode = shortcutPen.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const penTool = document.getElementsByClassName('tools-which-change-canvas--pen')[0];\n    const mirrorPenToolKeyCode = shortcutMirror.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const mirrorPenTool = document.getElementsByClassName('tools-which-change-canvas--mirror-pen')[0];\n    const paintBucketToolKeyCode = shortcutBucket.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const paintBucketTool = document.getElementsByClassName('tools-which-change-canvas--paint-bucket-tool')[0];\n    const paintAllPixelsSameColorToolKeyCode = shortcutAllPixels.innerHTML\n      .toLocaleUpperCase().charCodeAt(0);\n    const paintAllPixelsSameColorTool = document.getElementsByClassName('tools-which-change-canvas--paint-all-pixels-of-the-same-color')[0];\n    const eraserToolKeyCode = shortcutEraser.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const eraserTool = document.getElementsByClassName('tools-which-change-canvas--eraser-tool')[0];\n    const rectangleToolKeyCode = shortcutRectangle.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const rectangleTool = document.getElementsByClassName('tools-which-change-canvas--rectangle-tool')[0];\n    const moveToolKeyCode = shortcutMove.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const moveTool = document.getElementsByClassName('tools-which-change-canvas--move-tool')[0];\n    const ditheringToolKeyCode = shortcutDithering.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const ditheringTool = document.getElementsByClassName('tools-which-change-canvas--dithering-tool')[0];\n    const lightenToolKeyCode = shortcutLighten.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const lightenTool = document.getElementsByClassName('tools-which-change-canvas--lighten')[0];\n    const darkenToolKeyCode = shortcutDarken.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const darkenTool = document.getElementsByClassName('tools-which-change-canvas--darken')[0];\n    const colorPickerToolKeyCode = shortcutColorPicker.innerHTML.toLocaleUpperCase().charCodeAt(0);\n    const colorPickerTool = document.getElementsByClassName('tools-which-change-canvas--color-picker')[0];\n\n    function activateNeedableToolByKeyboard(event) {\n      const previosTool = document.getElementsByClassName('active')[0];\n      // if use keyboard and button not change tool, below variable need to check it\n      let changeTool = false;\n      function activate() {\n        if (document.getElementsByClassName('opacity-half')[0] === undefined) {\n          if (event.keyCode === penToolKeyCode && penTool.classList.contains('no-active')) {\n            penTool.classList.remove('no-active');\n            penTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === mirrorPenToolKeyCode && mirrorPenTool.classList.contains('no-active')) {\n            mirrorPenTool.classList.remove('no-active');\n            mirrorPenTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === paintBucketToolKeyCode && paintBucketTool.classList.contains('no-active')) {\n            paintBucketTool.classList.remove('no-active');\n            paintBucketTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === paintAllPixelsSameColorToolKeyCode && paintAllPixelsSameColorTool.classList.contains('no-active')) {\n            paintAllPixelsSameColorTool.classList.remove('no-active');\n            paintAllPixelsSameColorTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === eraserToolKeyCode && eraserTool.classList.contains('no-active')) {\n            eraserTool.classList.remove('no-active');\n            eraserTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === rectangleToolKeyCode && rectangleTool.classList.contains('no-active')) {\n            rectangleTool.classList.remove('no-active');\n            rectangleTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === moveToolKeyCode && moveTool.classList.contains('no-active')) {\n            moveTool.classList.remove('no-active');\n            moveTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === ditheringToolKeyCode && ditheringTool.classList.contains('no-active')) {\n            ditheringTool.classList.remove('no-active');\n            ditheringTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === lightenToolKeyCode && lightenTool.classList.contains('no-active')) {\n            lightenTool.classList.remove('no-active');\n            lightenTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === darkenToolKeyCode && darkenTool.classList.contains('no-active')) {\n            darkenTool.classList.remove('no-active');\n            darkenTool.classList.add('active');\n            changeTool = true;\n          }\n          if (event.keyCode === colorPickerToolKeyCode && colorPickerTool.classList.contains('no-active')) {\n            colorPickerTool.classList.remove('no-active');\n            colorPickerTool.classList.add('active');\n            changeTool = true;\n          }\n        }\n      }\n\n      function diactivate() {\n        if (changeTool && document.getElementsByClassName('opacity-half')[0] === undefined) {\n          previosTool.classList.remove('active');\n          previosTool.classList.add('no-active');\n        }\n      }\n\n      activate();\n      diactivate();\n    }\n\n    document.addEventListener('keydown', activateNeedableToolByKeyboard);\n  }\n\n  function shortcutsForChangeCurrentTool() {\n    const listOfFrames = document.getElementById('list-of-frames');\n    const keyboardButtonUp = 38;\n    const keyboardButtonDown = 40;\n\n    function changeCurrentFrameWithKeyboard(event) {\n      if (document.getElementsByClassName('opacity-half')[0] === undefined\n         && (event.keyCode === keyboardButtonDown || event.keyCode === keyboardButtonUp)) {\n        const numberOfCurrentFrame = +document.getElementsByClassName('yellow-frame-items')[0].innerText;\n        const currentFrame = document.getElementsByClassName('yellow-border')[0];\n        const childsOfCurrentFrame = Array.from(currentFrame.children);\n        const amountOfFrames = listOfFrames.children.length;\n        let nextFrame;\n        const makeYellowFrameToGray = () => {\n          currentFrame.classList.remove('yellow-border');\n          currentFrame.classList.add('gray-border');\n          childsOfCurrentFrame.forEach((element) => {\n            if (element.classList.contains('yellow-frame-items')) {\n              element.classList.remove('yellow-frame-items');\n              element.classList.add('gray-frame-items');\n            }\n          });\n        };\n        if (event.keyCode === keyboardButtonDown && numberOfCurrentFrame !== amountOfFrames) {\n          makeYellowFrameToGray();\n          nextFrame = listOfFrames.children[numberOfCurrentFrame];\n        }\n        if (event.keyCode === keyboardButtonUp && numberOfCurrentFrame !== 1) {\n          makeYellowFrameToGray();\n          nextFrame = listOfFrames.children[numberOfCurrentFrame - 2];\n        }\n\n        nextFrame.classList.remove('gray-border');\n        nextFrame.classList.add('yellow-border');\n        Array.from(nextFrame.children).forEach((element) => {\n          if (element.classList.contains('gray-frame-items')) {\n            element.classList.remove('gray-frame-items');\n            element.classList.add('yellow-frame-items');\n          }\n        });\n      }\n    }\n\n    document.addEventListener('keydown', changeCurrentFrameWithKeyboard);\n  }\n\n  function shortcutsChangeFpsOfPreview() {\n    const keyboardButtonLeft = 37;\n    const keyboardButtonRight = 39;\n    function changeFpsWithKeyboard(event) {\n      if ((event.keyCode === keyboardButtonLeft || event.keyCode === keyboardButtonRight)\n      && document.getElementsByClassName('opacity-half')[0] === undefined) {\n        const numberOfFps = document.getElementsByClassName('preview-fps--number-fps')[0];\n        const inputWithRangeFps = document.getElementById('preview-fps--choose-fps');\n        let valueOfInputRange = +inputWithRangeFps.value;\n        if (event.keyCode === keyboardButtonLeft && inputWithRangeFps.value >= 0) {\n          inputWithRangeFps.value = +valueOfInputRange - 1;\n          valueOfInputRange = inputWithRangeFps.value;\n          numberOfFps.innerHTML = `${valueOfInputRange} fps`;\n        } else if (event.keyCode === keyboardButtonRight && inputWithRangeFps.value <= 24) {\n          inputWithRangeFps.value = +valueOfInputRange + 1;\n          valueOfInputRange = inputWithRangeFps.value;\n          numberOfFps.innerHTML = `${valueOfInputRange} fps`;\n        }\n      }\n    }\n\n    document.addEventListener('keydown', changeFpsWithKeyboard);\n  }\n\n  function changeKeyboardShortcuts() {\n    const shortcutWindow = document.getElementsByClassName('window-shortcuts')[0];\n    const btnDeleteFrame = 46;\n    const btnCopyFrame = 221;\n    const btnAddNewFrame = 78;\n    const btnOpenShortcutWindow = 191;\n    const btnChangeToPreviousFrame = 38;\n    const btnChangeToNextFrame = 40;\n    const btnDecreaseFps = 37;\n    const btnInecreaseFps = 39;\n    const btnFullscreenPreview = 70;\n    let element;\n    function change(event) {\n      if (event.type === 'click' && event.target.classList.contains('tool')) {\n        const previousItem = document.getElementsByClassName('opacity-half')[0] || 0;\n        if (previousItem !== 0) {\n          previousItem.classList.remove('opacity-half');\n        }\n        const shortcutName = event.target.classList.contains('shortcuts-name');\n        const shortcutLetter = event.target.classList.contains('shortcuts-letter');\n        const shortcutIcon = event.target.classList.contains('keyboard-shortcuts-icon');\n        if (shortcutName) {\n          element = event.target.previousElementSibling;\n        } else if (shortcutLetter) {\n          element = event.target;\n        } else if (shortcutIcon) {\n          element = event.target.nextElementSibling;\n        }\n        if (!element.classList.contains('white-button')) element.classList.add('opacity-half');\n      } else if (event.type === 'keydown' && document.getElementsByClassName('opacity-half').length === 1\n      && event.keyCode !== btnDeleteFrame && event.keyCode !== btnCopyFrame\n      && event.keyCode !== btnAddNewFrame && event.keyCode !== btnOpenShortcutWindow\n      && event.keyCode !== btnChangeToNextFrame && event.keyCode !== btnChangeToPreviousFrame\n      && event.keyCode !== btnDecreaseFps && event.keyCode !== btnInecreaseFps\n      && event.keyCode !== btnFullscreenPreview) {\n        toolsWhichUse.forEach((elem) => {\n          if (elem.innerHTML === String.fromCharCode(event.keyCode)) {\n            // eslint-disable-next-line no-param-reassign\n            elem.innerHTML = '???';\n          }\n        });\n        [element] = document.getElementsByClassName('opacity-half');\n        element.innerHTML = String.fromCharCode(event.keyCode);\n        element.classList.remove('opacity-half');\n        shortcutsForTools();\n        saveShortcutsAfterReloadingPage();\n        changeToolTips();\n      }\n    }\n    shortcutWindow.addEventListener('click', change);\n    document.addEventListener('keydown', change);\n  }\n\n  function restoreKeyboardShortcuts() {\n    const buttonRestore = document.getElementById('restore-shortcuts');\n    const keyboardButtonRestoreShortCuts = 222;\n    const restore = document.getElementById('restore-shortcuts');\n    function notifyWithRestore(event) {\n      if (event.target.classList.contains('bottom-shortcuts--restore') || event.keyCode === keyboardButtonRestoreShortCuts) {\n        if (global.confirm('Replace all custom shortcuts by the default Piskel shortcuts ?')) {\n          shortcutPen.innerHTML = 'P';\n          shortcutMirror.innerHTML = 'V';\n          shortcutBucket.innerHTML = 'B';\n          shortcutAllPixels.innerHTML = 'A';\n          shortcutEraser.innerHTML = 'E';\n          shortcutRectangle.innerHTML = 'R';\n          shortcutMove.innerHTML = 'M';\n          shortcutDithering.innerHTML = 'T';\n          shortcutRotate.innerHTML = 'D';\n          shortcutLighten.innerHTML = 'U';\n          shortcutDarken.innerHTML = 'I';\n          shortcutColorPicker.innerHTML = 'O';\n          shortcutsForTools();\n          saveShortcutsAfterReloadingPage();\n          changeToolTips();\n        }\n      }\n    }\n\n    buttonRestore.addEventListener('click', restore);\n    document.addEventListener('keyup', notifyWithRestore);\n    restore.addEventListener('click', notifyWithRestore);\n  }\n\n  // shortcuts with frames use in file './actionWithFrames/actionWithFrames'\n  takeShortcutsFromLocalStorage();\n  changeToolTips();\n  openShortcutsWindow();\n  shortcutsForTools();\n  shortcutsForChangeCurrentTool();\n  shortcutsChangeFpsOfPreview();\n  changeKeyboardShortcuts();\n  restoreKeyboardShortcuts();\n}\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","// import moveFrame from './moveFrame';\n\nexport default function actionWithFrames() {\n  const listOfFrames = document.getElementById('list-of-frames');\n  const buttonAddFrame = document.getElementById('button-add-new-frame');\n  const canvasWhichStateOnMiddleOfPage = document.getElementById('main-div--canvas');\n  const ctxOfMiddleCanvas = canvasWhichStateOnMiddleOfPage.getContext('2d');\n  let countOfFrames = 1;\n  const arrayOflistFrames = [1];\n\n  function changeCountOfFramesAfterReloadPage() {\n    const images = JSON.parse(localStorage.getItem('images'));\n    if (images !== null) {\n      if (images.length >= 2) {\n        countOfFrames = images.length;\n      }\n    }\n  }\n  changeCountOfFramesAfterReloadPage();\n\n  function changeColorOfFrameFromYellowToGrey() {\n    const previosframeBeforeClick = document.getElementsByClassName('yellow-border')[0];\n    const previosFrameElementsBeforeClick = Array.from(document\n      .getElementsByClassName('yellow-frame-items'));\n\n    previosframeBeforeClick.classList.remove('yellow-border');\n    previosframeBeforeClick.classList.add('gray-border');\n    previosFrameElementsBeforeClick.forEach((element) => {\n      element.classList.remove('yellow-frame-items');\n      element.classList.add('gray-frame-items');\n    });\n  }\n\n  function updateNumbersOfFrames() {\n    const childrensOfUl = Array.from(listOfFrames.children);\n    for (let i = 0; i < childrensOfUl.length; i += 1) {\n      childrensOfUl[i].children[0].children[0].innerHTML = i + 1;\n    }\n  }\n\n  function addNewFrame() {\n    const newLi = listOfFrames.innerHTML;\n    const nKeyCode = 78;\n    function addFrame(event) {\n      if (document.getElementsByClassName('opacity-half')[0] === undefined && (event.keyCode === nKeyCode || event.target.classList.contains('fa-plus')\n      || event.target.classList.contains('button-frame-text')\n      || event.target.classList.contains('button-add-new-frame'))) {\n        changeColorOfFrameFromYellowToGrey();\n        listOfFrames.innerHTML += newLi;\n        ctxOfMiddleCanvas.clearRect(0, 0, 640, 608);\n        // change number of frame\n        countOfFrames += 1;\n        arrayOflistFrames.push(countOfFrames);\n        const numberOfFrame = document.getElementsByClassName('number-of-frame');\n        numberOfFrame[numberOfFrame.length - 1].innerText = countOfFrames;\n      }\n    }\n\n    buttonAddFrame.addEventListener('click', addFrame);\n    document.addEventListener('keydown', addFrame);\n  }\n\n  function deleteFrame() {\n    function deleteChosenFrame(event) {\n      const buttonDelete = 46;\n      if ((event.keyCode === buttonDelete\n          || event.target.className === 'fas fa-trash-alt') && listOfFrames.children.length > 1\n          && document.getElementsByClassName('opacity-half')[0] === undefined) {\n        countOfFrames -= 1;\n        arrayOflistFrames.pop();\n        let currentLi;\n        if (event.keyCode !== buttonDelete && event.path[2].classList.contains('gray-border')) {\n          // eslint-disable-next-line prefer-destructuring\n          currentLi = event.path[2];\n          listOfFrames.removeChild(currentLi);\n        } else {\n          // if was delete current frame(with yellow color)\n          // eslint-disable-next-line prefer-destructuring\n          currentLi = document.getElementsByClassName('yellow-border')[0];\n          listOfFrames.removeChild(currentLi);\n          const currentFrameAfterDelete = listOfFrames.children[countOfFrames - 1];\n          if (currentLi.children[0].children[0].innerText === '1') {\n            updateNumbersOfFrames();\n            const newCurrentLi = listOfFrames.children[0];\n            newCurrentLi.classList.remove('gray-border');\n            newCurrentLi.classList.add('yellow-border');\n\n            Array.from(newCurrentLi.children).forEach((element) => {\n              if (element.classList.contains('gray-frame-items')) {\n                element.classList.remove('gray-frame-items');\n                element.classList.add('yellow-frame-items');\n              }\n            });\n          } else {\n            currentFrameAfterDelete.classList.remove('gray-border');\n            currentFrameAfterDelete.classList.add('yellow-border');\n\n            Array.from(currentFrameAfterDelete.children).forEach((element) => {\n              if (element.classList.contains('gray-frame-items')) {\n                element.classList.remove('gray-frame-items');\n                element.classList.add('yellow-frame-items');\n              }\n            });\n          }\n        }\n        updateNumbersOfFrames(event);\n      }\n    }\n    listOfFrames.addEventListener('click', deleteChosenFrame);\n    document.addEventListener('keydown', deleteChosenFrame);\n  }\n\n  function chooseCurrentFrame() {\n    function clickOnFrame(event) {\n      if (event.path[0].className === 'canvas-frame' || event.target.className === 'image-frame') {\n        changeColorOfFrameFromYellowToGrey();\n        let currentLi;\n        // change gray to yellow color to current frame\n        // eslint-disable-next-line prefer-destructuring\n        if (event.path[0].className === 'canvas-frame') { currentLi = event.path[1]; }\n        // eslint-disable-next-line prefer-destructuring\n        if (event.target.className === 'image-frame') { currentLi = event.path[2]; }\n        const elementsOfCurrentLi = Array.from(currentLi.children);\n\n        currentLi.classList.remove('gray-border');\n        currentLi.classList.add('yellow-border');\n        elementsOfCurrentLi.forEach((element) => {\n          if (element.classList[2] === 'gray-frame-items') {\n            element.classList.remove('gray-frame-items');\n            element.classList.add('yellow-frame-items');\n          }\n        });\n      }\n    }\n\n    listOfFrames.addEventListener('click', clickOnFrame);\n  }\n\n  function dublicateFrame() {\n    const dublicateButton = 221;\n    function dublicate(event) {\n      countOfFrames += 1;\n      arrayOflistFrames.push(countOfFrames);\n\n      let frameElement = event.target.parentElement.parentElement;\n      if (event.keyCode === dublicateButton) {\n        // eslint-disable-next-line prefer-destructuring\n        frameElement = document.getElementsByClassName('yellow-border')[0];\n      }\n      const frameElementClone = frameElement.cloneNode(\n        true,\n      );\n      frameElement.parentNode.insertBefore(\n        frameElementClone,\n        frameElement.nextSibling,\n      );\n\n      // change colors of frame\n      frameElementClone.children[0].children[0].innerHTML = +frameElementClone\n        .children[0].children[0].innerHTML + 1;\n      if (frameElement.classList[1] === 'yellow-border') {\n        changeColorOfFrameFromYellowToGrey();\n      }\n\n      Array.from(frameElementClone.children).forEach((element) => {\n        if (element.classList.contains('gray-frame-items')) {\n          element.classList.remove('gray-frame-items');\n          element.classList.add('yellow-frame-items');\n        }\n      });\n\n      const yellowItems = Array.from(document.getElementsByClassName('yellow-frame-items'));\n      const checkHaveBorderParentElement = yellowItems[0].parentElement.classList.contains('yellow-border');\n      if (!checkHaveBorderParentElement) {\n        yellowItems.slice(0, 4).forEach((element) => {\n          element.classList.remove('yellow-frame-items');\n          element.classList.add('gray-frame-items');\n        });\n      }\n\n      updateNumbersOfFrames(event);\n    }\n\n    // function swapFrames(event) {\n    //   if (event.target.classList.contains('fa-arrows-alt')) {\n    //     moveFrame(event);\n    //     updateNumbersOfFrames(event);\n    //   }\n    // }\n\n    function fixBugsWithDublicateWhenClickNotOnCurrentFrame(event) {\n      if (event.path[2].classList.contains('gray-border')) {\n        const dublicatedFrame = event.path[2].nextSibling;\n        const previosFrame = document.getElementsByClassName('yellow-border')[0];\n        const yellowFrameItemsOfPreviosFrame = Array.from(previosFrame.children);\n        previosFrame.classList.remove('yellow-border');\n        previosFrame.classList.add('gray-border');\n        yellowFrameItemsOfPreviosFrame.forEach((element) => {\n          if (element.classList.contains('yellow-frame-items')) {\n            element.classList.remove('yellow-frame-items');\n            element.classList.add('gray-frame-items');\n          }\n        });\n\n        dublicatedFrame.classList.remove('gray-border');\n        dublicatedFrame.classList.add('yellow-border');\n        Array.from(dublicatedFrame.children).forEach((element) => {\n          if (element.classList.contains('gray-frame-items')) {\n            element.classList.remove('gray-frame-items');\n            element.classList.add('yellow-frame-items');\n          }\n        });\n      }\n    }\n    listOfFrames.addEventListener('click', (event) => {\n      if (event.target.className === 'fas fa-copy'\n      && document.getElementsByClassName('opacity-half')[0] === undefined) {\n        dublicate(event);\n        fixBugsWithDublicateWhenClickNotOnCurrentFrame(event);\n      }\n    });\n    document.addEventListener('keydown', (event) => {\n      if (event.keyCode === dublicateButton\n        && document.getElementsByClassName('opacity-half')[0] === undefined) {\n        dublicate(event);\n      }\n    });\n    // listOfFrames.addEventListener('mousedown', swapFrames);\n    // listOfFrames.addEventListener('mouseup', updateNumbersOfFrames);\n  }\n\n  function containFunctionsWhichUsedAbove() {\n    addNewFrame();\n    chooseCurrentFrame();\n    deleteFrame();\n    dublicateFrame();\n  }\n\n  containFunctionsWhichUsedAbove();\n}\n","import css from '../view/style';\nimport actionWithCanvas from './canvas/actionWithCanvases';\nimport actionWithFrames from './actionWithFrames/actionWithFrames';\nimport shortCuts from './shortcuts/shortcut';\nimport closeLandingPage from '../view/closeLandingPage';\n\nexport default function app() {\n  async function activate() {\n    await css();\n    await actionWithCanvas();\n    await actionWithFrames();\n    await shortCuts();\n    await closeLandingPage();\n  }\n  activate();\n}\n","export default function styles() {\n  document.getElementsByTagName('head')[0].innerHTML += `<style>\n@import url('https://fonts.googleapis.com/css?family=Righteous&display=swap');\n\n.body {\n margin: 0;\n padding: 0;\n background-color: #1D1D1D;\n font-family: 'Righteous', cursive;\n overflow-x: hidden\n}\n\n.white-color {\n  color: #ffffff;\n}\n\n/* header */\n.header {\n  width: 100%;\n  height: 2.5rem;\n  display: grid;\n  grid-template-columns: 20% 20% 20%;\n  grid-gap: 20%;\n  background-color: #2D2D2D;\n}\n\n.header--headline-of-page {\n  font-size: 1.8rem;\n  text-decoration: none;\n  padding-left: 1.3rem;\n  padding-top: 0.1rem;\n}\n\n.header-headline--new {\n  margin: 0;\n  font-size: 1.5rem;\n  text-align: center;\n  padding: 5px;\n}\n\n.header-block--buttons {\n  text-align: right;\n  padding: 5px 5px 0 0;\n}\n\n.header-buttons {\n  background-color: #ffd700;\n  border: 1px solid #ffd700;\n  border-radius: 1px;\n  height: 1.5rem;\n  font-size: 1rem;\n  font-weight: bold;\n}\n\n/* main */\n.main {\n  width: 100%;\n  height: 37.8rem;\n  padding-top: 5px;\n  display: grid;\n  grid-template-columns: 7.2% 9.2% 63.9% 19.7%;\n}\n\n/* tools to canvas */\n/* tool to change size of pen */\n.main-tools--buttons-pen-size {\n  display: grid;\n  grid-template-columns: 24% 24% 24% 24%;\n  padding: 58px 0 0 4px;\n}\n\n.main-tools-pen-size {\n  height: 20px;\n  border: 2px solid #444444;\n  background: none;\n  margin-right: 1px;\n}\n\n.main-tools-pen-size>p {\n  background-color: #ffffff;\n  margin: 0;\n\n}\n\n.main-tools-pen-size:first-child>p {\n  width: 5px;\n  height: 5px;\n}\n\n.main-tools-pen-size:nth-child(2)>p {\n  width: 7px;\n  height: 7px;\n}\n\n.main-tools-pen-size:nth-child(3){\n  padding-left: 3px;\n}\n\n.main-tools-pen-size:nth-child(3)>p {\n  width: 10px;\n  height: 10px;\n}\n\n.main-tools-pen-size:nth-child(4) {\n  padding-left: 2px;\n}\n\n.main-tools-pen-size:nth-child(4)>p {\n  width: 13px;\n  height: 13px;\n}\n\n/* main tools to change canvas */\n.main-tools--tools-which-change-canvas {\n  width: 95%;\n  height: 383px;\n  display: grid;\n  grid-template-columns: 50% 50%;\n  grid-gap: 2px;\n  margin-top: 85px;\n  padding-top: 7px;\n  grid-template-rows: repeat(8, 46px);\n}\n\n.tools-which-change-canvas>i{\n  font-size: 176%;\n}\n\n.tools-which-change-canvas {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #3A3A3A;\n}\n\n.tools-which-change-canvas--lighten>i {\n  transform: rotate(180deg);\n}\n\n.no-active {\n  border: 4px solid #3A3A3A;\n}\n\n.active {\n  border: 4px solid #FFD700;\n}\n\n/* choose color */\n.main-tools--choose-color {\n  height: 82px;\n  padding: 20px 0 0 7px;\n  display: flex;\n}\n\n.tools-choose-color--top, .tools-choose-color--bottom {\n  width: 36px;\n  height: 36px;\n  margin:0;\n  border: none;\n}\n\n.tools-choose-color--top {\n  position: relative;\n  z-index: 2;\n}\n\n.tools-choose-color--bottom {\n  position: relative;\n  z-index: 1;\n  right: 18px;\n  top: 26px;\n}\n\n.main-tools--keyboard {\n  text-align: center;\n}\n\n.main-tools-keyboard--i {\n  color: #FFD700;\n  font-size: 200%;\n}\n\n/* frames */\n.main-div-of-frames {\n  display: grid;\n  grid-template-columns: 88% 12%;\n}\n.block-frames-outer {\n  border: 1px solid grey;\n  box-shadow: 0 6px 10px rgba(0,0,0,0.5);\n}\n\n.block-frames-inner {\n  padding: 0;\n  height: 611px;\n}\n\n.ul-of-frames {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n\n.yellow-border {\n  border: 2px solid #FFD700;\n}\n\n.gray-border {\n  border: 2px solid #888888;\n}\n\n.li-frame {\n  background-image: url('./assets/setka.png');\n  width: 98px;\n  height: 98px;\n  display: grid;\n  grid-template-columns: 25% 25%;\n  grid-gap: 50%;\n  border-radius: 10px;\n  margin-bottom: 15px;\n}\n\n.li-frame>div {\n  height: 25px;\n  width: 25px;\n}\n\n.frame-top-left-item {\n  border-top-left-radius: 5px;\n}\n\n.frame-top-right-item {\n  border-top-right-radius: 5px;\n}\n\n.frame-bottom-left-item {\n  border-bottom-left-radius: 5px;\n}\n\n.frame-bottom-right-item {\n  border-bottom-right-radius: 5px;\n}\n\n.canvas-frame:hover, .frame-top-right-item:hover, .frame-bottom-left-item:hover, .frame-bottom-right-item:hover {\n  cursor: pointer;\n}\n\n.gray-frame-items {\n  background: #888888;\n}\n\n.yellow-frame-items {\n  background: #FFD700;\n}\n\n.canvas-frame {\n  position: absolute;\n  margin-top: 27px;\n  margin-left: 19px;\n  width: 60px;\n  height: 46px;\n}\n\n.number-of-frame {\n  margin: 0;\n  padding: 0;\n}\n.frame-top-right-item>i, .frame-bottom-right-item>i, .frame-bottom-left-item>i {\n  margin-top: 3px;\n}\n\n.text-center{\n  text-align: center;\n}\n\n.text-center>i {\n  margin-top: 3px;\n}\n\n.button-add-new-frame {\n  margin-top: 20px;\n  display: flex;\n  background: #222222;\n  border: 2px solid #888888;\n  width: 102px;\n}\n\n.button-add-new-frame>i {\n  margin-top: 8px;\n}\n\n.button-frame-text {\n  margin: 0;\n}\n\n.main-frames-line {\n  border: none;\n  width: 5px;\n  height: 607px;\n  background-color: #252525;\n  margin: 0;\n}\n\n/* main-canvas, on which drawing */\n.main-div-of-canvas {\n  background-color: #A0A0A0;\n  text-align: center;\n}\n\n.main-div--canvas {\n  background-image: url('./assets/setka.png');\n  margin: 0;\n  padding: 0;\n}\n\n.scaled-divide-by-one {\n  transform: scale(1);\n}\n\n.scaled-divide-by-two {\n  transform: scale(0.5);\n}\n\n.scaled-divide-by-four {\n  transform: scale(0.25);\n}\n\n/* right side of page */\n/* preview */\n.main-div-of-preview-and-settings {\n  width: 100%;\n  display: grid;\n}\n\n.main-preview--left-column {\n  padding-left: 7px;\n}\n\n.main-preview-left-canvas-with-fps {\n  width: 100%;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: 88% 12%;\n  height: 228px;\n}\n\n.canvas-preview {\n  background-image: url('./assets/setka.png');\n  text-align: center;\n}\n\n.canvas-preview {\n  cursor: pointer;\n}\n\n.preview--fps {\n  display: grid;\n  grid-template-columns: 30% 70%;\n  background: #3E3F3F;\n    border: 1px solid black;\n}\n\n.preview-fps--number-fps {\n  margin: 0;\n  padding-top: 2px;\n  padding-left: 16px;\n  color: #AAAA8F;\n  border-right: 1px solid black;\n}\n\n.preview-fps--input {\n  width: 85%;\n  margin-left: 13px;\n}\n\n.main-div-under-preview--form>fieldset {\n  text-align: center;\n  color: #AAAA8F\n}\n\n.under-preview-coordinates {\n  color: #AAAA8f;\n  margin-bottom: 0\n}\n\n.show-coordinates {\n  margin-top: 230px;\n}\n\n/* right column */\n.main-preview--right-column {\n  display: grid;\n  grid-template-rows: repeat(5, 12%);\n  grid-gap: 3px;\n  padding-left: 10px;\n  padding-top: 15rem;\n}\n\n.main-preview-right--buttons {\n  padding: 0;\n  border: none;\n  background-color: #3A3A3A;\n  border-radius: 5px;\n}\n\n.main-preview-right--buttons>i {\n  font-size: 176%;\n}\n\nbutton:hover, input:hover {\n  cursor: pointer;\n}\n\n.save-gif {\n  margin-top: 20px;\n  width: 180px;\n  height: 70px;\n  grid-template-rows: 33% 33% 33%;\n  color: #AAAA8f;\n  border-radius: 5px;\n  border: 1px solid black;\n  background: #3E3F3F;\n}\n\n.main-preview-right--save:hover>p {\n  display: block;\n}\n\n.download-gif-tooltip {\n  display: none;\n  color: #AAAA8f;\n  position: absolute;\n  margin-bottom: 10px;\n  right: 50px;\n  right: 51px;\n  margin-top: -18px;\n}\n\n.save-gif--name {\n  margin:0\n}\n\n.save-gif--input-text {\n  height: 16px;\n  border: 0;\n  background-color: #AAAA8f;\n}\n\n.save-gif--input-submit {\n  width: 50%;\n  margin: auto;\n  border: 0;\n  background-color: #AAAA8f;\n}\n/* tooltips */\n.tools-tooltips {\n  display: none;\n  margin-top: -15px;\n  margin-left: 45px;\n  z-index: 3;\n}\n\n.tools-which-change-canvas:hover>span {\n  display: block;\n  position: absolute;\n  background-color: #000;\n  color: #fff;\n  font-size: 90%;\n}\n\n.yellow-color {\n  color: #ffd700;\n}\n\n.tool-tip-frame {\n  display: none;\n  color: #fff;\n  position: absolute;\n  background-color: #000;\n  margin-top: -17px;\n  margin-left: 25px;\n  font-size: 80%;\n}\n\n.text-center:hover>span {\n  display: block;\n}\n\n.image-frame {\n  position: static;\n}\n\n.window-shortcuts {\n  width: 1000px;\n  height: 550px;\n  top: 10%;\n  left: 15%;\n  position: absolute;\n  background-color: #ffd700;\n  z-index: 2;\n  display: grid;\n  grid-template-rows: 10% 80% 10%;\n  border-radius: 10px;\n}\n\n.display-none {\n  display: none;\n}\n\n.headline-and-close-keyboard-shortcuts {\n  display: flex;\n}\n\n.shortcuts-tools-headline {\n  width: 90%;\n  margin: 5px 0 0 10px;\n  text-align: left;\n  font-size: 165%;\n  color: #000;\n}\n\n.close-shortcut-window {\n  height: 33px;\n  text-align: right;\n  font-size: 170%;\n  margin: 5px 0px 0 50px;\n  cursor: pointer;\n}\n\n.shortcuts {\n  display: grid;\n  grid-template-columns: 70% 30%;\n  background-color: #000;\n  width: 99%;\n  height: 440px;\n  overflow-y: scroll;\n  margin-left: 4px;\n}\n\n::-webkit-scrollbar {\n  width: 9px;\n}\n\n/* Track */\n::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px #C8B571;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  background: #C8B571;\n  -webkit-box-shadow: inset 0 0 6px #C8B571;\n}\n::-webkit-scrollbar-thumb:window-inactive {\nbackground: #C8B571;\n}\n\n.list-of-tools-shortcuts {\n  list-style: none;\n  display: grid;\n  grid-template-columns: 50% 50%;\n  grid-template-rows: repeat(8, 12.5%);\n}\n\n.list-of-tools-shotcut--element {\n  list-style: none;\n  text-align: left;\n  margin-bottom: 13px;\n  display: flex;\n}\n\n.keyboard-shortcuts-icon {\n  background-color: #3B3B3B;\n  width: 25px;\n  height: 25px;\n  text-align: center;\n  padding-top: 5px;\n  border-radius: 5px\n}\n\n.shortcuts-letter {\n  width: 30px;\n  height: 25px;\n  color: #ffd700;\n  margin-left: 10px;\n  margin-top: 1px;\n  padding-top: 2px;\n  text-align: center;\n  border: 2px solid #ffd700;\n}\n\n.keyboard-shortcuts--all-pixels {\n  display: grid;\n  grid-template-rows: 50% 50%\n}\n\n.shortcuts-letter-ctrl {\n  width: 65px;\n  height: 25px;\n  margin-left: 0;\n}\n\n.shortcuts-name {\n  margin-top: 5px;\n  margin-left: 15px;\n  color: #EBEBEB;\n}\n\n.list-of-frames-shortcuts--element {\n  list-style: none;\n  text-align: left;\n  margin-bottom: 13px;\n  display: flex;\n}\n\n.bottom-of-window-with-shortcuts {\n  width: 100%;\n  display: grid;\n  grid-template-columns: 75% 25%;\n}\n\n.bottom-shortcuts--text {\n  margin: 15px 0 0 15px;\n  text-align: left;\n  width: 200px;\n  height: 22px;\n}\n\n.bottom-shortcuts--restore {\n  text-align: right;\n  width: 180px;\n  height: 20px;\n  margin: 15px 0 0 15px;\n  background-color: #D0D5D0;\n  border-radius: 5px;\n  border: 2px solid #B6BCB6;\n}\n\n.other-shortcuts {\n  margin-bottom: 0;\n  height: 50px\n}\n\n.other-shortcuts--keyboard {\n  margin-top: 11px\n}\n\n.other-shortcuts--letter {\n  margin-top: 10px\n}\n\n.restore-shortcuts-name {\n  margin-top: 12px;\n}\n\n.customize-shortcuts--tooltip {\n  display: none;\n  position: absolute;\n  color: #fff;\n  background-color: #000;\n  border-radius: 5px;\n  margin-top: 369px;\n  padding-top: 10px;\n  font-size: 80%;\n  width: 250px;\n  height: 126px;\n}\n\n.bottom-shortcuts--text:hover+.customize-shortcuts--tooltip {\n  display: block;\n}\n\n.bottom-shortcuts--text:hover {\n  cursor: pointer;\n}\n\n.opacity-half {\n  opacity: .5;\n}\n\n.white-button {\n  color: #CBCBCB;\n  border: 2px solid #CBCBCB;\n}\n\n/* landing page */\n.landing-page--header {\n  position: fixed;\n}\n.box-shadow {\n  box-shadow: 0 0 10px rgba(0,0,0,0.5);\n}\n.landing-page-main {\n  background-color: #706976;\n}\n.landing-page-main--examples {\n  width: 100%;\n  display: grid;\n  grid-template-columns: 65% 25%;\n  justify-content: center;\n  height: 494px\n}\n\n.landing-page-examples--preview {\n  margin-top: 10px;\n  padding: 40px;\n}\n\n.landing-page-preview--headline {\n  margin-top: 0;\n  text-align: center;\n}\n\n.landing-page-preview--image {\n  padding:20px\n}\n\n.landing-page-examples {\n  list-style: none;\n}\n\n.landing-page--examples {\n  display: grid;\n  justify-content: center;\n  margin-top: 10px;\n  margin-left: 15px;\n  padding: 20px;\n}\n\n.gif-example {\n  background-color: #5E561C;\n  border: 3px double #000;\n  margin-top: 7px;\n  margin-bottom: 7px;\n}\n\n.landing-page-functionality-and-about-me {\n  display: grid;\n  grid-template-columns: 65% 32%;\n}\n\n.landing-page-functionality {\n  /* border: 5px solid #8C7B05;\n  border-radius: 7px; */\n  margin-top: 10px;\n  margin-left: 15px;\n  margin-bottom: 15px;\n  padding: 27px;\n}\n\n.landing-page-functionality--headline {\n  text-align: center;\n  margin: 0;\n}\n\n.landing-page-functionality--about {\n  display: grid;\n  grid-template-columns: 50% 50%;\n  margin-top: 10px;\n}\n\n.landing-page-functionality-about--headline {\n  padding-left: 50px;\n}\n\n.color-black {\n  color: #000;\n}\n\n.color-blue {\n  color: #0743B5\n}\n\n.color-red {\n  color: #B90707;\n}\n\n.functionality-list--element {\n  color: #D1BA23;\n}\n\n.about-me-headline {\n  text-align: right;\n  padding-right: 80px;\n}\n\n.landing-page-about-me {\n  margin: 136px 0 170px 10px;\n  padding: 27px;\n}\n\n.about-me-list {\n  list-style: none;\n}\n\n.about-me-list>li {\n  text-align: right;\n  padding-right: 80px;\n}\n\n.about-me-list-element--link {\n  color: #D1BA23;\n}\n\n.about-me-list-element--link {\n  text-decoration: none;\n}\n</style>`;\n}\n","export default function startDrawFunction() {\n  const createSprite = document.getElementById('create-sprite');\n  const landingPage = document.getElementById('landing-page');\n  const piskel = document.getElementById('piskel');\n  const body = document.getElementsByClassName('body')[0];\n\n  function closeLandingPageOpenPiskel(event) {\n    event.preventDefault();\n    body.removeAttribute('style');\n    landingPage.classList.add('display-none');\n    piskel.removeAttribute('style');\n  }\n\n  createSprite.addEventListener('click', closeLandingPageOpenPiskel);\n}\n"],"sourceRoot":""}